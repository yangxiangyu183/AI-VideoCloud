/*! 
 Build based on gin-vue-admin 
 Time : 1753348791000 */
!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var a,t,n="function"==typeof Symbol?Symbol:{},u=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(e,n,u,r){var o=n&&n.prototype instanceof d?n:d,c=Object.create(o.prototype);return l(c,"_invoke",function(e,l,n){var u,r,o,d=0,c=n||[],f=!1,m={p:0,n:0,v:a,a:p,f:p.bind(a,4),d:function(e,l){return u=e,r=0,o=a,m.n=l,i}};function p(e,l){for(r=e,o=l,t=0;!f&&d&&!n&&t<c.length;t++){var n,u=c[t],p=m.p,s=u[2];e>3?(n=s===l)&&(o=u[(r=u[4])?5:(r=3,3)],u[4]=u[5]=a):u[0]<=p&&((n=e<2&&p<u[1])?(r=0,m.v=l,m.n=u[1]):p<s&&(n=e<3||u[0]>l||l>s)&&(u[4]=e,u[5]=l,m.n=s,r=0))}if(n||e>1)return i;throw f=!0,l}return function(n,c,s){if(d>1)throw TypeError("Generator is already running");for(f&&1===c&&p(c,s),r=c,o=s;(t=r<2?a:o)||!f;){u||(r?r<3?(r>1&&(m.n=-1),p(r,o)):m.n=o:m.v=o);try{if(d=2,u){if(r||(n="next"),t=u[n]){if(!(t=t.call(u,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,r<2&&(r=0)}else 1===r&&(t=u.return)&&t.call(u),r<2&&(o=TypeError("The iterator does not provide a '"+n+"' method"),r=1);u=a}else if((t=(f=m.n<0)?o:e.call(l,m))!==i)break}catch(t){u=a,r=1,o=t}finally{d=1}}return{value:t,done:f}}}(e,u,r),!0),c}var i={};function d(){}function c(){}function f(){}t=Object.getPrototypeOf;var m=[][u]?t(t([][u]())):(l(t={},u,function(){return this}),t),p=f.prototype=d.prototype=Object.create(m);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=f,l(p,"constructor",f),l(f,"constructor",c),c.displayName="GeneratorFunction",l(f,r,"GeneratorFunction"),l(p),l(p,r,"Generator"),l(p,u,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:o,m:s}})()}function l(e,a,t,n){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}l=function(e,a,t,n){if(a)u?u(e,a,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[a]=t;else{var r=function(a,t){l(e,a,function(e){return this._invoke(a,t,e)})};r("next",0),r("throw",1),r("return",2)}},l(e,a,t,n)}function a(e,l,a,t,n,u,r){try{var o=e[u](r),i=o.value}catch(e){return void a(e)}o.done?l(i):Promise.resolve(i).then(t,n)}function t(e){return function(){var l=this,t=arguments;return new Promise(function(n,u){var r=e.apply(l,t);function o(e){a(r,n,u,o,i,"next",e)}function i(e){a(r,n,u,o,i,"throw",e)}o(void 0)})}}System.register(["./087AC4D233B64EB0stringFun-legacy.DkMg4n6s.js","./087AC4D233B64EB0index-legacy.OBkLBh_-.js","./087AC4D233B64EB0warningBar-legacy.yYIgoypa.js","./087AC4D233B64EB0autoCode-legacy.CfpgqdzX.js"],function(l,a){"use strict";var n,u,r,o,i,d,c,f,m,p,s,v,b,y,V,h,g,_,T,N,S,w;return{setters:[function(e){n=e.a,u=e.t},function(e){r=e.a,o=e.p,i=e.g,d=e.c,c=e.o,f=e.f,m=e.w,p=e.b,s=e.F,v=e.D,b=e.i,y=e.t,V=e.h,h=e.d,g=e.b8,_=e.ab},function(e){T=e._},function(e){N=e.g,S=e.a,w=e.c}],execute:function(){var a={style:{float:"right",color:"#8492a6","font-size":"13px"}},x={style:{"font-weight":"bold"}},U={style:{float:"left"}},O={style:{float:"right","margin-left":"5px",color:"var(--el-text-color-secondary)","font-size":"13px"}},j={style:{"font-weight":"bold"}},D={style:{float:"left"}},k={style:{float:"right","margin-left":"5px",color:"var(--el-text-color-secondary)","font-size":"13px"}},E={key:0};l("default",Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}},typeIndexOptions:{type:Array,default:function(){return[]}}},setup:function(l,B){var C=B.expose,P=l,A=r([]),F=r({}),I=r([]),L=r([]),q=function(){var l=t(e().m(function l(){var a;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,N();case 1:0===(a=e.v).code&&(L.value=a.data.dbList);case 2:return e.a(2)}},l)}));return function(){return l.apply(this,arguments)}}(),G=r({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}],dataTypeLong:[{validator:function(e,l,a){"enum"!=F.value.fieldType||/^('([^']*)'(?:,'([^']+)'*)*)$/.test(l)?a():a(new Error("枚举值校验错误"))},trigger:"blur"}]}),J=function(){var l=t(e().m(function l(){var a;return e().w(function(e){for(;;)switch(e.n){case 0:return F.value=P.dialogMiddle,e.n=1,g({page:1,pageSize:999999});case 1:a=e.v,I.value=a.data;case 2:return e.a(2)}},l)}));return function(){return l.apply(this,arguments)}}();J();var K=function(){F.value.fieldJson=n(F.value.fieldName),F.value.columnName=u(F.value.fieldJson)},z=function(e){var l=F.value.fieldType;if("richtext"===l)return"LIKE"!==e;if("string"!==l&&"LIKE"===e)return!0;return!(["int","time.Time","float64"].includes(l)||!["BETWEEN","NOT BETWEEN"].includes(e))},H=function(){F.value.fieldSearchType="",F.value.dictType=""},M=function(e){2===e&&_.confirm("一对多关联模式下，数据类型会改变为数组，后端表现为json，具体表现为数组模式，是否继续？","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){F.value.fieldType="array"}).catch(function(){F.value.dataSource.association=1})},W=function(){F.value.dataSource.value="",F.value.dataSource.label=""},$=function(){R(),F.value.dataSource.table="",W()},Q=r([]),R=function(){var l=t(e().m(function l(){var a,t;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,w({businessDB:F.value.dataSource.dbName});case 1:0===(a=e.v).code&&(t=a.data.tables,Q.value=t.map(function(e){return{tableName:e.tableName,value:e.tableName}})),W();case 2:return e.a(2)}},l)}));return function(){return l.apply(this,arguments)}}(),X=r([]),Y=function(){var l=t(e().m(function l(a,t){var n,u;return e().w(function(e){for(;;)switch(e.n){case 0:return F.value.dataSource.hasDeletedAt=!1,F.value.dataSource.table=a,e.n=1,S({businessDB:F.value.dataSource.dbName,tableName:a});case 1:0===(n=e.v).code&&(u=n.data.columns,X.value=u.map(function(e){return"deleted_at"===e.columnName&&(F.value.dataSource.hasDeletedAt=!0),{columnName:e.columnName,value:e.columnName,type:e.dataType,isPrimary:e.primaryKey,comment:e.columnComment}}),X.value.length>0&&!t&&(F.value.dataSource.label=X.value[0].columnName,F.value.dataSource.value=X.value[0].columnName));case 2:return e.a(2)}},l)}));return function(e,a){return l.apply(this,arguments)}}(),Z=r(null);return C({fieldDialogForm:Z}),o(function(){q(),F.value.dataSource.table&&Y(F.value.dataSource.table,!0)}),function(e,t){var n=i("el-input"),u=i("el-button"),r=i("el-form-item"),o=i("el-option"),g=i("el-select"),_=i("el-checkbox"),N=i("el-switch"),S=i("el-form"),w=i("el-col"),B=i("el-tag"),C=i("block"),P=i("el-row"),q=i("el-collapse-item"),J=i("el-collapse");return c(),d("div",null,[f(T,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),f(S,{ref_key:"fieldDialogForm",ref:Z,model:F.value,"label-width":"120px","label-position":"right",rules:G.value,class:"grid grid-cols-2"},{default:m(function(){return[f(r,{label:"字段名称",prop:"fieldName"},{default:m(function(){return[f(n,{modelValue:F.value.fieldName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return F.value.fieldName=e}),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),f(u,{style:{width:"18%","margin-left":"2%"},onClick:K},{default:m(function(){return t[27]||(t[27]=[p("span",{style:{"font-size":"12px"}},"自动填充",-1)])}),_:1,__:[27]})]}),_:1}),f(r,{label:"字段中文名",prop:"fieldDesc"},{default:m(function(){return[f(n,{modelValue:F.value.fieldDesc,"onUpdate:modelValue":t[1]||(t[1]=function(e){return F.value.fieldDesc=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),f(r,{label:"字段JSON",prop:"fieldJson"},{default:m(function(){return[f(n,{modelValue:F.value.fieldJson,"onUpdate:modelValue":t[2]||(t[2]=function(e){return F.value.fieldJson=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),f(r,{label:"数据库字段名",prop:"columnName"},{default:m(function(){return[f(n,{modelValue:F.value.columnName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return F.value.columnName=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),f(r,{label:"数据库字段描述",prop:"comment"},{default:m(function(){return[f(n,{modelValue:F.value.comment,"onUpdate:modelValue":t[4]||(t[4]=function(e){return F.value.comment=e}),autocomplete:"off"},null,8,["modelValue"])]}),_:1}),f(r,{label:"字段类型",prop:"fieldType"},{default:m(function(){return[f(g,{modelValue:F.value.fieldType,"onUpdate:modelValue":t[5]||(t[5]=function(e){return F.value.fieldType=e}),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:H},{default:m(function(){return[(c(!0),d(s,null,v(l.typeOptions,function(e){return c(),b(o,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),f(r,{label:"enum"===F.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:m(function(){return[f(n,{modelValue:F.value.dataTypeLong,"onUpdate:modelValue":t[6]||(t[6]=function(e){return F.value.dataTypeLong=e}),placeholder:"enum"===F.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])]}),_:1},8,["label"]),f(r,{label:"字段查询条件",prop:"fieldSearchType"},{default:m(function(){return[f(g,{modelValue:F.value.fieldSearchType,"onUpdate:modelValue":t[7]||(t[7]=function(e){return F.value.fieldSearchType=e}),disabled:"json"===F.value.fieldType,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:m(function(){return[(c(!0),d(s,null,v(l.typeSearchOptions,function(e){return c(),b(o,{key:e.value,label:e.label,value:e.value,disabled:z(e.value)},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),f(r,{label:"关联字典",prop:"dictType"},{default:m(function(){return[f(g,{modelValue:F.value.dictType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return F.value.dictType=e}),style:{width:"100%"},disabled:"string"!==F.value.fieldType&&"array"!==F.value.fieldType,placeholder:"请选择字典",clearable:""},{default:m(function(){return[(c(!0),d(s,null,v(I.value,function(e){return c(),b(o,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),f(r,{label:"默认值"},{default:m(function(){return[f(n,{modelValue:F.value.defaultValue,"onUpdate:modelValue":t[9]||(t[9]=function(e){return F.value.defaultValue=e}),placeholder:"请输入默认值"},null,8,["modelValue"])]}),_:1}),f(r,{label:"主键"},{default:m(function(){return[f(_,{modelValue:F.value.primaryKey,"onUpdate:modelValue":t[10]||(t[10]=function(e){return F.value.primaryKey=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"索引类型",prop:"fieldIndexType"},{default:m(function(){return[f(g,{modelValue:F.value.fieldIndexType,"onUpdate:modelValue":t[11]||(t[11]=function(e){return F.value.fieldIndexType=e}),disabled:"json"===F.value.fieldType,style:{width:"100%"},placeholder:"请选择字段索引类型",clearable:""},{default:m(function(){return[(c(!0),d(s,null,v(l.typeIndexOptions,function(e){return c(),b(o,{key:e.value,label:e.label,value:e.value,disabled:z(e.value)},null,8,["label","value","disabled"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),f(r,{label:"前端新建/编辑"},{default:m(function(){return[f(N,{modelValue:F.value.form,"onUpdate:modelValue":t[12]||(t[12]=function(e){return F.value.form=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"前端表格列"},{default:m(function(){return[f(N,{modelValue:F.value.table,"onUpdate:modelValue":t[13]||(t[13]=function(e){return F.value.table=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"前端详情"},{default:m(function(){return[f(N,{modelValue:F.value.desc,"onUpdate:modelValue":t[14]||(t[14]=function(e){return F.value.desc=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"导入/导出"},{default:m(function(){return[f(N,{modelValue:F.value.excel,"onUpdate:modelValue":t[15]||(t[15]=function(e){return F.value.excel=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"是否排序"},{default:m(function(){return[f(N,{modelValue:F.value.sort,"onUpdate:modelValue":t[16]||(t[16]=function(e){return F.value.sort=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"是否必填"},{default:m(function(){return[f(N,{modelValue:F.value.require,"onUpdate:modelValue":t[17]||(t[17]=function(e){return F.value.require=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"是否可清空"},{default:m(function(){return[f(N,{modelValue:F.value.clearable,"onUpdate:modelValue":t[18]||(t[18]=function(e){return F.value.clearable=e})},null,8,["modelValue"])]}),_:1}),f(r,{label:"隐藏查询条件"},{default:m(function(){return[f(N,{modelValue:F.value.fieldSearchHide,"onUpdate:modelValue":t[19]||(t[19]=function(e){return F.value.fieldSearchHide=e}),disabled:!F.value.fieldSearchType},null,8,["modelValue","disabled"])]}),_:1}),f(r,{label:"校验失败文案"},{default:m(function(){return[f(n,{modelValue:F.value.errorText,"onUpdate:modelValue":t[20]||(t[20]=function(e){return F.value.errorText=e})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","rules"]),f(J,{modelValue:A.value,"onUpdate:modelValue":t[26]||(t[26]=function(e){return A.value=e})},{default:m(function(){return[f(q,{title:"数据源配置（此配置为高级配置，如编程基础不牢，可能导致自动化代码不可用）",name:"1"},{default:m(function(){return[f(P,{gutter:8},{default:m(function(){return[f(w,{span:4},{default:m(function(){return[f(g,{modelValue:F.value.dataSource.dbName,"onUpdate:modelValue":t[21]||(t[21]=function(e){return F.value.dataSource.dbName=e}),placeholder:"数据库【不填则为GVA库】",onChange:$,clearable:""},{default:m(function(){return[(c(!0),d(s,null,v(L.value,function(e){return c(),b(o,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:m(function(){return[p("div",null,[p("span",null,y(e.aliasName),1),p("span",a,y(e.dbName),1)])]}),_:2},1032,["value","label","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),f(w,{span:4},{default:m(function(){return[f(g,{modelValue:F.value.dataSource.association,"onUpdate:modelValue":t[22]||(t[22]=function(e){return F.value.dataSource.association=e}),placeholder:"关联模式",onChange:M},{default:m(function(){return[f(o,{label:"一对一",value:1}),f(o,{label:"一对多",value:2})]}),_:1},8,["modelValue"])]}),_:1}),f(w,{span:5},{default:m(function(){return[f(g,{modelValue:F.value.dataSource.table,"onUpdate:modelValue":t[23]||(t[23]=function(e){return F.value.dataSource.table=e}),placeholder:"请选择数据源表",filterable:"","allow-create":"",clearable:"",onFocus:R,onChange:Y,onClear:W},{default:m(function(){return[(c(!0),d(s,null,v(Q.value,function(e){return c(),b(o,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),f(w,{span:5},{default:m(function(){return[f(g,{modelValue:F.value.dataSource.value,"onUpdate:modelValue":t[24]||(t[24]=function(e){return F.value.dataSource.value=e}),placeholder:"请先选择需要存储的数据"},{label:m(function(e){var l=e.value;return[t[28]||(t[28]=p("span",null,"存储: ",-1)),p("span",x,y(l),1)]}),default:m(function(){return[(c(!0),d(s,null,v(X.value,function(e){return c(),b(o,{key:e.columnName,value:e.columnName},{default:m(function(){return[p("span",U,[f(B,{type:e.isPrimary?"primary":"info"},{default:m(function(){return[V(y(e.isPrimary?"主 键":"非主键"),1)]}),_:2},1032,["type"]),V(" "+y(e.columnName),1)]),p("span",O,[V(" 类型："+y(e.type)+" ",1),""!=e.comment?(c(),b(C,{key:0},{default:m(function(){return[V("，字段说明："+y(e.comment),1)]}),_:2},1024)):h("",!0)])]}),_:2},1032,["value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),f(w,{span:5},{default:m(function(){return[f(g,{modelValue:F.value.dataSource.label,"onUpdate:modelValue":t[25]||(t[25]=function(e){return F.value.dataSource.label=e}),placeholder:"请先选择需要展示的数据"},{label:m(function(e){var l=e.value;return[t[29]||(t[29]=p("span",null,"展示: ",-1)),p("span",j,y(l),1)]}),default:m(function(){return[(c(!0),d(s,null,v(X.value,function(e){return c(),b(o,{key:e.columnName,value:e.columnName},{default:m(function(){return[p("span",D,[f(B,{type:e.isPrimary?"primary":"info"},{default:m(function(){return[V(y(e.isPrimary?"主 键":"非主键"),1)]}),_:2},1032,["type"]),V(" "+y(e.columnName),1)]),p("span",k,[V(" 类型："+y(e.type)+" ",1),""!=e.comment?(c(),d("span",E,"，字段说明："+y(e.comment),1)):h("",!0)])]}),_:2},1032,["value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])])}}}))}}})}();
