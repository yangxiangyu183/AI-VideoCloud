/*! 
 Build based on gin-vue-admin 
 Time : 1753348791000 */
!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",u=r.toStringTag||"@@toStringTag";function l(r,n,o,u){var l=n&&n.prototype instanceof c?n:c,s=Object.create(l.prototype);return a(s,"_invoke",function(r,n,o){var a,u,l,c=0,s=o||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,u=0,l=e,f.n=r,i}};function d(r,n){for(u=r,l=n,t=0;!p&&c&&!o&&t<s.length;t++){var o,a=s[t],d=f.p,m=a[2];r>3?(o=m===n)&&(l=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(u=0,f.v=n,f.n=a[1]):d<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,f.n=m,u=0))}if(o||r>1)return i;throw p=!0,n}return function(o,s,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&d(s,m),u=s,l=m;(t=u<2?e:l)||!p;){a||(u?u<3?(u>1&&(f.n=-1),d(u,l)):f.n=l:f.v=l);try{if(c=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(p=f.n<0)?l:r.call(n,f))!==i)break}catch(t){a=e,u=1,l=t}finally{c=1}}return{value:t,done:p}}}(r,o,u),!0),s}var i={};function c(){}function s(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),d=p.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=p,a(d,"constructor",p),a(p,"constructor",s),s.displayName="GeneratorFunction",a(p,u,"GeneratorFunction"),a(d),a(d,u,"Generator"),a(d,n,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:m}})()}function a(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,r,n){if(t)o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var u=function(t,r){a(e,t,function(e){return this._invoke(t,r,e)})};u("next",0),u("throw",1),u("return",2)}},a(e,t,r,n)}function u(e,t,r,n,o,a,u){try{var l=e[a](u),i=l.value}catch(e){return void r(e)}l.done?t(i):Promise.resolve(i).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function l(e){u(a,n,o,l,i,"next",e)}function i(e){u(a,n,o,l,i,"throw",e)}l(void 0)})}}System.register(["./087AC4D233B64EB0index-legacy.OBkLBh_-.js","./087AC4D233B64EB0autoCode-legacy.CfpgqdzX.js"],function(e,t){"use strict";var n,a,u,i,c,s,p,f,d,m,y,v,b,h,g,w,x,S,O,k,j;return{setters:[function(e){n=e.a,a=e.r,u=e.p,i=e.g,c=e.c,s=e.o,p=e.f,f=e.w,d=e.b,m=e.t,y=e.v,v=e.bx,b=e.F,h=e.D,g=e.i,w=e.d,x=e.b1,S=e.h,O=e.E},function(e){k=e.i,j=e.j}],execute:function(){var t={class:"p-2"},_={class:"flex justify-between items-center font-bold"},V={class:"font-mono whitespace-pre-wrap break-words bg-gray-100 p-2.5 rounded text-gray-700"},P={class:"flex justify-between items-center font-bold"},E={class:"text-sm mb-1"},C={key:0,class:"mt-1 text-xs overflow-y-auto max-h-[100px] p-2 border-t border-gray-200 bg-gray-50 rounded-b"},T={class:"font-semibold mb-1 text-gray-700 flex items-center"},U={class:"text-xs text-gray-500"},N={class:"space-y-2"},D={class:"flex items-center justify-between"},J={class:"flex items-center"},F={class:"font-medium text-gray-800"},G={key:0,class:"ml-1 text-red-500 text-xs"},q={class:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded"},A=["title"],B={key:1,class:"mt-1 text-xs p-2 border-t border-gray-200 bg-gray-50 rounded-b flex items-center justify-center"},M={key:1,class:"mt-5 p-[15px] border border-gray-200 rounded bg-gray-50"},R={key:0},I={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},z={key:1},H={key:2},K={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},L={key:3},Q={class:"bg-gray-100 p-2.5 rounded whitespace-pre-wrap break-words overflow-y-auto"},W={class:"dialog-footer"};e("default",Object.assign({name:"MCPTest"},{__name:"mcpTest",setup:function(e){var X=n([]),Y=n(!1),Z=n(null),$=a({}),ee=n(null),te=n(null),re=n(JSON.stringify({mcpServers:{gva:{url:"https://127.0.0.1/sse"}}},null,2)),ne=function(){var e=l(o().m(function e(){var t;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k();case 1:0===(t=e.v).code&&t.data&&t.data.list.tools?(X.value=t.data.list.tools,re.value=JSON.stringify(t.data.mcpServerConfig,null,2)):O.error(t.msg||"获取工具列表失败或数据格式不正确");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();u(function(){ne()});var oe=function(){var e=l(o().m(function e(){var t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(re.value);case 1:O.success("配置已复制到剪贴板"),e.n=3;break;case 2:e.p=2,t=e.v,O.error("复制失败: "+t);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ae=function(e){te.value=null,e()},ue=function(){var e=l(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:if(Z.value){e.n=1;break}return O.warning("没有选中的测试工具"),e.a(2);case 1:ee.value&&ee.value.validate(function(){var e=l(o().m(function e(t){var n,a,u;return o().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=2;break}return n=Z.value.name,a=r({},$),Z.value.inputSchema&&Z.value.inputSchema.properties&&Object.keys(Z.value.inputSchema.properties).forEach(function(e){var t=Z.value.inputSchema.properties[e];if(("object"===t.type||"array"===t.type)&&a[e]&&"string"==typeof a[e])try{a[e]=JSON.parse(a[e])}catch(r){throw O.error("参数 ".concat(e," 的JSON格式无效: ").concat(r.message)),new Error("参数 ".concat(e," JSON无效"))}}),e.n=1,j({name:n,arguments:a});case 1:u=e.v,te.value=u.data,0===u.code&&O.success("API调用成功");case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,r){var n=i("el-button"),o=i("el-tooltip"),a=i("el-card"),u=i("el-col"),l=i("el-row"),O=i("el-input"),k=i("el-option"),j=i("el-select"),ne=i("el-form-item"),le=i("el-form"),ie=i("el-image"),ce=i("el-dialog");return s(),c("div",t,[p(a,{class:"mb-2"},{header:f(function(){return[d("div",_,[r[2]||(r[2]=d("span",null,"MCP 服务器配置示例",-1)),p(o,{content:"复制配置",placement:"top"},{default:f(function(){return[p(n,{icon:y(v),circle:"",onClick:oe},null,8,["icon"])]}),_:1})])]}),default:f(function(){return[d("pre",V,m(re.value),1)]}),_:1}),p(l,{gutter:8},{default:f(function(){return[(s(!0),c(b,null,h(X.value,function(e){return s(),g(u,{key:e.name,xs:24,sm:12,md:12,lg:8},{default:f(function(){return[p(a,{class:"mb-5 min-h-[150px] flex flex-col overflow-hidden"},{header:f(function(){return[d("div",P,[d("span",null,m(e.name),1),p(o,{content:"测试工具",placement:"top"},{default:f(function(){return[p(n,{icon:y(x),circle:"",onClick:function(t){return function(e){for(var t in Z.value=e,te.value=null,$)delete $[t];e.inputSchema&&e.inputSchema.properties&&Object.keys(e.inputSchema.properties).forEach(function(t){var r=e.inputSchema.properties[t];void 0!==r.default?$[t]=r.default:"boolean"===r.type?$[t]=!1:"number"===r.type?$[t]=null:("object"===r.type||r.type,$[t]="")}),Y.value=!0,ee.value&&ee.value.clearValidate()}(e)}},null,8,["icon","onClick"])]}),_:2},1024)])]}),default:f(function(){return[d("div",E,m(e.description),1),e.inputSchema&&e.inputSchema.properties&&Object.keys(e.inputSchema.properties).length>0?(s(),c("div",C,[d("p",T,[r[3]||(r[3]=d("span",{class:"mr-1 my-2"},"参数列表",-1)),d("span",U,"("+m(Object.keys(e.inputSchema.properties).length)+")",1)]),d("div",N,[(s(!0),c(b,null,h(e.inputSchema.properties,function(t,r){return s(),c("div",{key:r,class:"flex flex-col p-1.5 bg-white rounded border border-gray-100 hover:border-gray-300 transition-colors"},[d("div",D,[d("div",J,[d("span",F,m(r),1),e.inputSchema.required&&e.inputSchema.required.includes(r)?(s(),c("span",G,"*")):w("",!0)]),d("span",q,m(t.type),1)]),d("div",{class:"text-gray-500 mt-0.5 text-xs line-clamp-2",title:t.description||"无描述"},m(t.description||"无描述"),9,A)])}),128))])])):(s(),c("div",B,r[4]||(r[4]=[d("span",{class:"text-gray-500 italic py-3"},"无输入参数",-1)])))]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}),p(ce,{modelValue:Y.value,"onUpdate:modelValue":r[1]||(r[1]=function(e){return Y.value=e}),title:Z.value?"".concat(Z.value.name," - 参数测试"):"参数测试",width:"60%","before-close":ae},{footer:f(function(){return[d("span",W,[p(n,{onClick:r[0]||(r[0]=function(e){return Y.value=!1})},{default:f(function(){return r[6]||(r[6]=[S("取消",-1)])}),_:1,__:[6]}),p(n,{type:"primary",onClick:ue},{default:f(function(){return r[7]||(r[7]=[S("测试",-1)])}),_:1,__:[7]})])]}),default:f(function(){return[Z.value?(s(),g(le,{key:0,model:$,ref_key:"testParamsFormRef",ref:ee,"label-width":"120px","label-position":"top",class:"max-h-[calc(60vh-120px)] overflow-y-auto"},{default:f(function(){return[(s(!0),c(b,null,h(Z.value.inputSchema.properties,function(e,t){return s(),g(ne,{key:t,label:e.description||t,prop:t,rules:Z.value.inputSchema.required&&Z.value.inputSchema.required.includes(t)?[{required:!0,message:"请输入 "+(e.description||t),trigger:"blur"}]:[]},{default:f(function(){return["string"!==e.type||e.enum?"number"===e.type?(s(),g(O,{key:1,modelValue:$[t],"onUpdate:modelValue":function(e){return $[t]=e},modelModifiers:{number:!0},type:"number",placeholder:e.description||"请输入数字"+t},null,8,["modelValue","onUpdate:modelValue","placeholder"])):"boolean"===e.type?(s(),g(j,{key:2,modelValue:$[t],"onUpdate:modelValue":function(e){return $[t]=e},placeholder:e.description||"请选择"},{default:f(function(){return[p(k,{label:"True",value:!0}),p(k,{label:"False",value:!1})]}),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"string"===e.type&&e.enum?(s(),g(j,{key:3,modelValue:$[t],"onUpdate:modelValue":function(e){return $[t]=e},placeholder:e.description||"请选择"+t},{default:f(function(){return[(s(!0),c(b,null,h(e.enum,function(e){return s(),g(k,{key:e,label:e,value:e},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):(s(),g(O,{key:4,type:"textarea",modelValue:$[t],"onUpdate:modelValue":function(e){return $[t]=e},placeholder:(e.description||t)+" (请输入JSON格式)",autosize:{minRows:2,maxRows:6}},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(s(),g(O,{key:0,modelValue:$[t],"onUpdate:modelValue":function(e){return $[t]=e},placeholder:e.description||"请输入"+t},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]}),_:2},1032,["label","prop","rules"])}),128))]}),_:1},8,["model"])):w("",!0),te.value?(s(),c("div",M,[r[5]||(r[5]=d("h4",{class:"mt-0 mb-2.5 text-base"},"API 返回结果:",-1)),"string"==typeof te.value?(s(),c("div",R,[d("pre",I,m(te.value),1)])):"image"===te.value.type&&te.value.content?(s(),c("div",z,[p(ie,{class:"max-w-full max-h-[300px]",src:te.value.content,"preview-src-list":[te.value.content],fit:"contain"},null,8,["src","preview-src-list"])])):"text"===te.value.type&&te.value.content?(s(),c("div",H,[d("pre",K,m(te.value.content),1)])):(s(),c("div",L,[d("pre",Q,m(JSON.stringify(te.value,null,2)),1)]))])):w("",!0)]}),_:1},8,["modelValue","title"])])}}}))}}})}();
