/*! 
 Build based on gin-vue-admin 
 Time : 1753275382000 */
import{a as e,I as a,r as l,g as t,ae as s,c as u,o as r,b as i,f as o,w as n,d,h as p,F as c,i as m,l as v,a7 as f,v as g,t as _,aa as b,dn as w,D as y,dp as h,ab as k,E as C}from"./087AC4D233B64EB0index.D_4CqggS.js";import{g as V,f as x,c as E,u as D,d as A,a as B}from"./087AC4D233B64EB0aiUser.GPGIdFUK.js";import{u as U}from"./087AC4D233B64EB0btnAuth.BwsF7r2Y.js";import{_ as z,a as I,b as N}from"./087AC4D233B64EB0importExcel.YcHaWSgV.js";import"./087AC4D233B64EB0exportTemplate.Dfd0fWhS.js";const S={class:"gva-search-box"},j={class:"gva-table-box"},T={class:"gva-btn-list"},F={class:"gva-pagination"},R={class:"flex justify-between items-center"},q={class:"text-lg"},O=Object.assign({name:"AiUser"},{__name:"aiUser",setup(O){const K=U(),M=e(!1),Q=a(),W=e(!1),G=e([]),H=e([]),J=e({userName:"",password:"",userEmail:"",permissions:"",status:""}),L=l({userName:[{required:!0,message:"",trigger:["input","blur"]},{whitespace:!0,message:"不能只输入空格",trigger:["input","blur"]}],password:[{required:!0,message:"",trigger:["input","blur"]},{whitespace:!0,message:"不能只输入空格",trigger:["input","blur"]}],userEmail:[{required:!0,message:"",trigger:["input","blur"]},{whitespace:!0,message:"不能只输入空格",trigger:["input","blur"]}]}),P=e(),X=e(),Y=e(1),Z=e(0),$=e(10),ee=e([]),ae=e({}),le=()=>{ae.value={},re()},te=()=>{var e;null==(e=X.value)||e.validate(async e=>{e&&(Y.value=1,re())})},se=e=>{$.value=e,re()},ue=e=>{Y.value=e,re()},re=async()=>{const e=await V({page:Y.value,pageSize:$.value,...ae.value});0===e.code&&(ee.value=e.data.list,Z.value=e.data.total,Y.value=e.data.page,$.value=e.data.pageSize)};re();(async()=>{G.value=await h("permissions"),H.value=await h("Status")})();const ie=e([]),oe=e=>{ie.value=e},ne=async()=>{k.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{const e=[];if(0===ie.value.length)return void C({type:"warning",message:"请选择要删除的数据"});ie.value&&ie.value.map(a=>{e.push(a.ID)});0===(await B({IDs:e})).code&&(C({type:"success",message:"删除成功"}),ee.value.length===e.length&&Y.value>1&&Y.value--,re())})},de=e(""),pe=async e=>{0===(await A({ID:e.ID})).code&&(C({type:"success",message:"删除成功"}),1===ee.value.length&&Y.value>1&&Y.value--,re())},ce=e(!1),me=()=>{ce.value=!1,J.value={userName:"",password:"",userEmail:"",permissions:"",status:""}},ve=async()=>{var e;M.value=!0,null==(e=P.value)||e.validate(async e=>{if(!e)return M.value=!1;let a;switch(de.value){case"create":default:a=await E(J.value);break;case"update":a=await D(J.value)}M.value=!1,0===a.code&&(C({type:"success",message:"创建/更改成功"}),me(),re())})},fe=e({}),ge=e(!1),_e=async e=>{const a=await x({ID:e.ID});0===a.code&&(fe.value=a.data,ge.value=!0)},be=()=>{ge.value=!1,fe.value={}};return(e,a)=>{const l=t("QuestionFilled"),h=t("el-icon"),C=t("el-tooltip"),V=t("el-date-picker"),E=t("el-form-item"),D=t("el-button"),A=t("el-form"),B=t("el-table-column"),U=t("InfoFilled"),O=t("el-table"),we=t("el-pagination"),ye=t("el-input"),he=t("el-option"),ke=t("el-select"),Ce=t("el-drawer"),Ve=t("el-descriptions-item"),xe=t("el-descriptions"),Ee=s("auth");return r(),u("div",null,[i("div",S,[o(A,{ref_key:"elSearchFormRef",ref:X,inline:!0,model:ae.value,class:"demo-form-inline",onKeyup:v(te,["enter"])},{default:n(()=>[o(E,{label:"创建日期",prop:"createdAtRange"},{label:n(()=>[i("span",null,[a[11]||(a[11]=p(" 创建日期 ")),o(C,{content:"搜索范围是开始日期（包含）至结束日期（不包含）"},{default:n(()=>[o(h,null,{default:n(()=>[o(l)]),_:1})]),_:1})])]),default:n(()=>[o(V,{modelValue:ae.value.createdAtRange,"onUpdate:modelValue":a[0]||(a[0]=e=>ae.value.createdAtRange=e),class:"w-[380px]",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),W.value?(r(),u(c,{key:0},[],64)):d("",!0),o(E,null,{default:n(()=>[o(D,{type:"primary",icon:"search",onClick:te},{default:n(()=>a[12]||(a[12]=[p("查询")])),_:1,__:[12]}),o(D,{icon:"refresh",onClick:le},{default:n(()=>a[13]||(a[13]=[p("重置")])),_:1,__:[13]}),W.value?(r(),m(D,{key:1,link:"",type:"primary",icon:"arrow-up",onClick:a[2]||(a[2]=e=>W.value=!1)},{default:n(()=>a[15]||(a[15]=[p("收起")])),_:1,__:[15]})):(r(),m(D,{key:0,link:"",type:"primary",icon:"arrow-down",onClick:a[1]||(a[1]=e=>W.value=!0)},{default:n(()=>a[14]||(a[14]=[p("展开")])),_:1,__:[14]}))]),_:1})]),_:1},8,["model"])]),i("div",j,[i("div",T,[f((r(),m(D,{type:"primary",icon:"plus",onClick:a[3]||(a[3]=e=>(de.value="create",void(ce.value=!0)))},{default:n(()=>a[16]||(a[16]=[p("新增")])),_:1,__:[16]})),[[Ee,g(K).add]]),f((r(),m(D,{icon:"delete",style:{"margin-left":"10px"},disabled:!ie.value.length,onClick:ne},{default:n(()=>a[17]||(a[17]=[p("删除")])),_:1,__:[17]},8,["disabled"])),[[Ee,g(K).batchDelete]]),f(o(z,{"template-id":"user_AiUser"},null,512),[[Ee,g(K).exportTemplate]]),f(o(I,{"template-id":"user_AiUser",filterDeleted:""},null,512),[[Ee,g(K).exportExcel]]),f(o(N,{"template-id":"user_AiUser",onOnSuccess:re},null,512),[[Ee,g(K).importExcel]])]),o(O,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:ee.value,"row-key":"ID",onSelectionChange:oe},{default:n(()=>[o(B,{type:"selection",width:"55"}),o(B,{sortable:"",align:"left",label:"日期",prop:"CreatedAt",width:"180"},{default:n(e=>[p(_(g(b)(e.row.CreatedAt)),1)]),_:1}),o(B,{align:"left",label:"userName字段",prop:"userName",width:"120"}),o(B,{align:"left",label:"password字段",prop:"password",width:"120"}),o(B,{align:"left",label:"userEmail字段",prop:"userEmail",width:"120"}),o(B,{align:"left",label:"用户权限",prop:"permissions",width:"120"},{default:n(e=>[p(_(g(w)(e.row.permissions,G.value)),1)]),_:1}),o(B,{align:"left",label:"用户状态",prop:"status",width:"120"},{default:n(e=>[p(_(g(w)(e.row.status,H.value)),1)]),_:1}),o(B,{align:"left",label:"操作",fixed:"right","min-width":g(Q).operateMinWith},{default:n(e=>[f((r(),m(D,{type:"primary",link:"",class:"table-button",onClick:a=>_e(e.row)},{default:n(()=>[o(h,{style:{"margin-right":"5px"}},{default:n(()=>[o(U)]),_:1}),a[18]||(a[18]=p("查看"))]),_:2,__:[18]},1032,["onClick"])),[[Ee,g(K).info]]),f((r(),m(D,{type:"primary",link:"",icon:"edit",class:"table-button",onClick:a=>(async e=>{const a=await x({ID:e.ID});de.value="update",0===a.code&&(J.value=a.data,ce.value=!0)})(e.row)},{default:n(()=>a[19]||(a[19]=[p("编辑")])),_:2,__:[19]},1032,["onClick"])),[[Ee,g(K).edit]]),f((r(),m(D,{type:"primary",link:"",icon:"delete",onClick:a=>{return l=e.row,void k.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{pe(l)});var l}},{default:n(()=>a[20]||(a[20]=[p("删除")])),_:2,__:[20]},1032,["onClick"])),[[Ee,g(K).delete]])]),_:1},8,["min-width"])]),_:1},8,["data"]),i("div",F,[o(we,{layout:"total, sizes, prev, pager, next, jumper","current-page":Y.value,"page-size":$.value,"page-sizes":[10,30,50,100],total:Z.value,onCurrentChange:ue,onSizeChange:se},null,8,["current-page","page-size","total"])])]),o(Ce,{"destroy-on-close":"",size:g(Q).drawerSize,modelValue:ce.value,"onUpdate:modelValue":a[9]||(a[9]=e=>ce.value=e),"show-close":!1,"before-close":me},{header:n(()=>[i("div",R,[i("span",q,_("create"===de.value?"新增":"编辑"),1),i("div",null,[o(D,{loading:M.value,type:"primary",onClick:ve},{default:n(()=>a[21]||(a[21]=[p("确 定")])),_:1,__:[21]},8,["loading"]),o(D,{onClick:me},{default:n(()=>a[22]||(a[22]=[p("取 消")])),_:1,__:[22]})])])]),default:n(()=>[o(A,{model:J.value,"label-position":"top",ref_key:"elFormRef",ref:P,rules:L,"label-width":"80px"},{default:n(()=>[o(E,{label:"userName字段:",prop:"userName"},{default:n(()=>[o(ye,{modelValue:J.value.userName,"onUpdate:modelValue":a[4]||(a[4]=e=>J.value.userName=e),clearable:!0,placeholder:"请输入userName字段"},null,8,["modelValue"])]),_:1}),o(E,{label:"password字段:",prop:"password"},{default:n(()=>[o(ye,{modelValue:J.value.password,"onUpdate:modelValue":a[5]||(a[5]=e=>J.value.password=e),clearable:!0,placeholder:"请输入password字段"},null,8,["modelValue"])]),_:1}),o(E,{label:"userEmail字段:",prop:"userEmail"},{default:n(()=>[o(ye,{modelValue:J.value.userEmail,"onUpdate:modelValue":a[6]||(a[6]=e=>J.value.userEmail=e),clearable:!0,placeholder:"请输入userEmail字段"},null,8,["modelValue"])]),_:1}),o(E,{label:"用户权限:",prop:"permissions"},{default:n(()=>[o(ke,{modelValue:J.value.permissions,"onUpdate:modelValue":a[7]||(a[7]=e=>J.value.permissions=e),placeholder:"请选择用户权限",style:{width:"100%"},filterable:"",clearable:!0},{default:n(()=>[(r(!0),u(c,null,y(G.value,(e,a)=>(r(),m(he,{key:a,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(E,{label:"用户状态:",prop:"status"},{default:n(()=>[o(ke,{modelValue:J.value.status,"onUpdate:modelValue":a[8]||(a[8]=e=>J.value.status=e),placeholder:"请选择用户状态",style:{width:"100%"},filterable:"",clearable:!0},{default:n(()=>[(r(!0),u(c,null,y(H.value,(e,a)=>(r(),m(he,{key:a,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["size","modelValue"]),o(Ce,{"destroy-on-close":"",size:g(Q).drawerSize,modelValue:ge.value,"onUpdate:modelValue":a[10]||(a[10]=e=>ge.value=e),"show-close":!0,"before-close":be,title:"查看"},{default:n(()=>[o(xe,{column:1,border:""},{default:n(()=>[o(Ve,{label:"userName字段"},{default:n(()=>[p(_(fe.value.userName),1)]),_:1}),o(Ve,{label:"password字段"},{default:n(()=>[p(_(fe.value.password),1)]),_:1}),o(Ve,{label:"userEmail字段"},{default:n(()=>[p(_(fe.value.userEmail),1)]),_:1}),o(Ve,{label:"用户权限"},{default:n(()=>[p(_(fe.value.permissions),1)]),_:1}),o(Ve,{label:"用户状态"},{default:n(()=>[p(_(fe.value.status),1)]),_:1})]),_:1})]),_:1},8,["size","modelValue"])])}}});export{O as default};
