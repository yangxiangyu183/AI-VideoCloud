/*! 
 Build based on gin-vue-admin 
 Time : 1753275382000 */
import{I as e,a,g as l,c as t,o as s,f as u,b as r,w as d,h as n,F as i,D as c,n as o,t as m,ay as p,v,b7 as y,b8 as b,b9 as f,ab as x,ba as g,E as w,bb as _,bc as h}from"./087AC4D233B64EB0index.D_4CqggS.js";import{_ as k}from"./087AC4D233B64EB0warningBar.l9dXTiLp.js";import D from"./087AC4D233B64EB0sysDictionaryDetail.CQ4gxEJo.js";const V={class:"flex gap-4 p-2"},C={class:"flex-none w-52 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900 rounded p-4"},B={class:"flex justify-between items-center"},I=["onClick"],j={class:"max-w-[160px] truncate"},U={class:"min-w-[40px]"},q={class:"flex-1 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900"},E={class:"flex justify-between items-center"},z={class:"text-lg"},A=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(A){const F=e(),S=a(0),T=a({name:null,type:null,status:!0,desc:null}),O=a({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),G=a([]),H=async()=>{const e=await b();0===e.code&&(G.value=e.data,S.value=e.data[0].ID)};H();const J=a(!1),K=a(""),L=()=>{J.value=!1,T.value={name:null,type:null,status:!0,desc:null}},M=a(null),N=async()=>{M.value.validate(async e=>{if(!e)return;let a;switch(K.value){case"create":default:a=await _(T.value);break;case"update":a=await h(T.value)}0===a.code&&(w.success("操作成功"),L(),H())})},P=()=>{K.value="create",M.value&&M.value.clearValidate(),J.value=!0};return(e,a)=>{const b=l("el-button"),_=l("el-icon"),h=l("Delete"),A=l("el-scrollbar"),Q=l("el-input"),R=l("el-form-item"),W=l("el-switch"),X=l("el-form"),Y=l("el-drawer");return s(),t("div",null,[u(k,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),r("div",V,[r("div",C,[r("div",B,[a[6]||(a[6]=r("span",{class:"text font-bold"},"字典列表",-1)),u(b,{type:"primary",onClick:P},{default:d(()=>a[5]||(a[5]=[n(" 新增 ")])),_:1,__:[5]})]),u(A,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:d(()=>[(s(!0),t(i,null,c(G.value,e=>(s(),t("div",{key:e.ID,class:o(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 dark:hover:bg-blue-900 bg-gray-50 dark:bg-gray-800 gap-4",S.value===e.ID?"text-active":"text-slate-700 dark:text-slate-50"]),onClick:a=>{return l=e,void(S.value=l.ID);var l}},[r("span",j,m(e.name),1),r("div",U,[u(_,{class:"text-blue-500",onClick:p(a=>(async e=>{const a=await f({ID:e.ID,status:e.status});K.value="update",0===a.code&&(T.value=a.data.resysDictionary,J.value=!0)})(e),["stop"])},{default:d(()=>[u(v(y))]),_:2},1032,["onClick"]),u(_,{class:"ml-2 text-red-500",onClick:a=>(async e=>{x.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{0===(await g({ID:e.ID})).code&&(w({type:"success",message:"删除成功"}),H())})})(e)},{default:d(()=>[u(h)]),_:2},1032,["onClick"])])],10,I))),128))]),_:1})]),r("div",q,[u(D,{"sys-dictionary-i-d":S.value},null,8,["sys-dictionary-i-d"])])]),u(Y,{modelValue:J.value,"onUpdate:modelValue":a[4]||(a[4]=e=>J.value=e),size:v(F).drawerSize,"show-close":!1,"before-close":L},{header:d(()=>[r("div",E,[r("span",z,m("create"===K.value?"添加字典":"修改字典"),1),r("div",null,[u(b,{onClick:L},{default:d(()=>a[7]||(a[7]=[n(" 取 消 ")])),_:1,__:[7]}),u(b,{type:"primary",onClick:N},{default:d(()=>a[8]||(a[8]=[n(" 确 定 ")])),_:1,__:[8]})])])]),default:d(()=>[u(X,{ref_key:"drawerForm",ref:M,model:T.value,rules:O.value,"label-width":"110px"},{default:d(()=>[u(R,{label:"字典名（中）",prop:"name"},{default:d(()=>[u(Q,{modelValue:T.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>T.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(R,{label:"字典名（英）",prop:"type"},{default:d(()=>[u(Q,{modelValue:T.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>T.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(R,{label:"状态",prop:"status",required:""},{default:d(()=>[u(W,{modelValue:T.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>T.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),u(R,{label:"描述",prop:"desc"},{default:d(()=>[u(Q,{modelValue:T.value.desc,"onUpdate:modelValue":a[3]||(a[3]=e=>T.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","size"])])}}});export{A as default};
