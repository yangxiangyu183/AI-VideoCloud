/*! 
 Build based on gin-vue-admin 
 Time : 1753275382000 */
!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function n(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?t(Object(l),!0).forEach(function(t){a(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}function a(t,n,a){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var l=a.call(t,n||"default");if("object"!=e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,a,l,o){var i=a&&a.prototype instanceof c?a:c,d=Object.create(i.prototype);return r(d,"_invoke",function(n,a,l){var r,o,i,c=0,d=l||[],s=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,o=0,i=e,f.n=n,u}};function p(n,a){for(o=n,i=a,t=0;!s&&c&&!l&&t<d.length;t++){var l,r=d[t],p=f.p,v=r[2];n>3?(l=v===a)&&(i=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=e):r[0]<=p&&((l=n<2&&p<r[1])?(o=0,f.v=a,f.n=r[1]):p<v&&(l=n<3||r[0]>a||a>v)&&(r[4]=n,r[5]=a,f.n=v,o=0))}if(l||n>1)return u;throw s=!0,a}return function(l,d,v){if(c>1)throw TypeError("Generator is already running");for(s&&1===d&&p(d,v),o=d,i=v;(t=o<2?e:i)||!s;){r||(o?o<3?(o>1&&(f.n=-1),p(o,i)):f.n=i:f.v=i);try{if(c=2,r){if(o||(l="next"),t=r[l]){if(!(t=t.call(r,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=r.return)&&t.call(r),o<2&&(i=TypeError("The iterator does not provide a '"+l+"' method"),o=1);r=e}else if((t=(s=f.n<0)?i:n.call(a,f))!==u)break}catch(t){r=e,o=1,i=t}finally{c=1}}return{value:t,done:s}}}(n,l,o),!0),d}var u={};function c(){}function d(){}function s(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(r(t={},a,function(){return this}),t),p=s.prototype=c.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,r(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=s,r(p,"constructor",s),r(s,"constructor",d),d.displayName="GeneratorFunction",r(s,o,"GeneratorFunction"),r(p),r(p,o,"Generator"),r(p,a,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:v}})()}function r(e,t,n,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}r=function(e,t,n,a){if(t)l?l(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n;else{var o=function(t,n){r(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},r(e,t,n,a)}function o(e,t,n,a,l,r,o){try{var i=e[r](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(a,l)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(a,l){var r=e.apply(t,n);function i(e){o(r,a,l,i,u,"next",e)}function u(e){o(r,a,l,i,u,"throw",e)}i(void 0)})}}System.register(["./087AC4D233B64EB0fieldDialog-legacy.DBtti_SU.js","./087AC4D233B64EB0previewCodeDialog-legacy.Aoyhgkmr.js","./087AC4D233B64EB0stringFun-legacy.DkMg4n6s.js","./087AC4D233B64EB0autoCode-legacy.ZeHFOv5S.js","./087AC4D233B64EB0index-legacy.jiLLMCc9.js","./087AC4D233B64EB0warningBar-legacy.Bl38HjNE.js"],function(e,t){"use strict";var a,r,o,u,c,d,s,f,p,v,m,h,g,b,y,w,_,T,S,E,D,N,x,C,V,k,O,A,I,M,P,B,U,j,R,L,F,X,Y,W;return{setters:[function(e){a=e.default},function(e){r=e.default},function(e){o=e.b,u=e.c,c=e.a,d=e.t},function(e){s=e.e,f=e.l,p=e.g,v=e.c,m=e.a,h=e.d,g=e.p,b=e.f,y=e.h},function(e){w=e.k,_=e.a,T=e.p,S=e.aj,E=e.u,D=e.Q,N=e.g,x=e.c,C=e.o,V=e.f,k=e.d,O=e.b,A=e.h,I=e.w,M=e.F,P=e.D,B=e.i,U=e.t,j=e.v,R=e.T,L=e.E,F=e.ab,X=e.bv,Y=e.bw},function(e){W=e._}],execute:function(){var t=document.createElement("style");
/**!
       * Sortable 1.15.6
       * @author	RubaXa   <trash@rubaxa.org>
       * @author	owenm    <owen23355@gmail.com>
       * @license MIT
       */
function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}t.textContent=".no-border-collapse,.no-border-collapse .el-collapse-item__header,.no-border-collapse .el-collapse-item__wrap{border-style:none}.no-border-collapse .el-collapse-item__content{padding-bottom:0}\n/*$vite$:1*/",document.head.appendChild(t);function $(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Q=$(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Z=$(/Edge/i),ee=$(/firefox/i),te=$(/safari/i)&&!$(/chrome/i)&&!$(/android/i),ne=$(/iP(ad|od|hone)/i),ae=$(/chrome/i)&&$(/android/i),le={capture:!1,passive:!1};function re(e,t,n){e.addEventListener(t,n,!Q&&le)}function oe(e,t,n){e.removeEventListener(t,n,!Q&&le)}function ie(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function ue(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ce(e,t,n,a){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ie(e,t):ie(e,t))||a&&e===n)return e;if(e===n)break}while(e=ue(e))}return null}var de,se=/\s+/g;function fe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var a=(" "+e.className+" ").replace(se," ").replace(" "+t+" "," ");e.className=(a+(n?" "+t:"")).replace(se," ")}}function pe(e,t,n){var a=e&&e.style;if(a){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in a||-1!==t.indexOf("webkit")||(t="-webkit-"+t),a[t]=n+("string"==typeof n?"":"px")}}function ve(e,t){var n="";if("string"==typeof e)n=e;else do{var a=pe(e,"transform");a&&"none"!==a&&(n=a+" "+n)}while(!t&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function me(e,t,n){if(e){var a=e.getElementsByTagName(t),l=0,r=a.length;if(n)for(;l<r;l++)n(a[l],l);return a}return[]}function he(){var e=document.scrollingElement;return e||document.documentElement}function ge(e,t,n,a,l){if(e.getBoundingClientRect||e===window){var r,o,i,u,c,d,s;if(e!==window&&e.parentNode&&e!==he()?(o=(r=e.getBoundingClientRect()).top,i=r.left,u=r.bottom,c=r.right,d=r.height,s=r.width):(o=0,i=0,u=window.innerHeight,c=window.innerWidth,d=window.innerHeight,s=window.innerWidth),(t||n)&&e!==window&&(l=l||e.parentNode,!Q))do{if(l&&l.getBoundingClientRect&&("none"!==pe(l,"transform")||n&&"static"!==pe(l,"position"))){var f=l.getBoundingClientRect();o-=f.top+parseInt(pe(l,"border-top-width")),i-=f.left+parseInt(pe(l,"border-left-width")),u=o+r.height,c=i+r.width;break}}while(l=l.parentNode);if(a&&e!==window){var p=ve(l||e),v=p&&p.a,m=p&&p.d;p&&(u=(o/=m)+(d/=m),c=(i/=v)+(s/=v))}return{top:o,left:i,bottom:u,right:c,width:s,height:d}}}function be(e,t,n){for(var a=Se(e,!0),l=ge(e)[t];a;){if(!(l>=ge(a)[n]))return a;if(a===he())break;a=Se(a,!1)}return!1}function ye(e,t,n,a){for(var l=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==xt.ghost&&(a||o[r]!==xt.dragged)&&ce(o[r],n.draggable,e,!1)){if(l===t)return o[r];l++}r++}return null}function we(e,t){for(var n=e.lastElementChild;n&&(n===xt.ghost||"none"===pe(n,"display")||t&&!ie(n,t));)n=n.previousElementSibling;return n||null}function _e(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===xt.clone||t&&!ie(e,t)||n++;return n}function Te(e){var t=0,n=0,a=he();if(e)do{var l=ve(e),r=l.a,o=l.d;t+=e.scrollLeft*r,n+=e.scrollTop*o}while(e!==a&&(e=e.parentNode));return[t,n]}function Se(e,t){if(!e||!e.getBoundingClientRect)return he();var n=e,a=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=pe(n);if(n.clientWidth<n.scrollWidth&&("auto"==l.overflowX||"scroll"==l.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==l.overflowY||"scroll"==l.overflowY)){if(!n.getBoundingClientRect||n===document.body)return he();if(a||t)return n;a=!0}}}while(n=n.parentNode);return he()}function Ee(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function De(e,t){return function(){if(!de){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),de=setTimeout(function(){de=void 0},t)}}}function Ne(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function xe(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Ce(e,t,n){var a={};return Array.from(e.children).forEach(function(l){var r,o,i,u;if(ce(l,t.draggable,e,!1)&&!l.animated&&l!==n){var c=ge(l);a.left=Math.min(null!==(r=a.left)&&void 0!==r?r:1/0,c.left),a.top=Math.min(null!==(o=a.top)&&void 0!==o?o:1/0,c.top),a.right=Math.max(null!==(i=a.right)&&void 0!==i?i:-1/0,c.right),a.bottom=Math.max(null!==(u=a.bottom)&&void 0!==u?u:-1/0,c.bottom)}}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var Ve="Sortable"+(new Date).getTime();function ke(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==pe(e,"display")&&e!==xt.ghost){t.push({target:e,rect:ge(e)});var n=J({},t[t.length-1].rect);if(e.thisAnimationDuration){var a=ve(e,!0);a&&(n.top-=a.f,n.left-=a.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e[n][a])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var a=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var l=!1,r=0;t.forEach(function(e){var t=0,n=e.target,o=n.fromRect,i=ge(n),u=n.prevFromRect,c=n.prevToRect,d=e.rect,s=ve(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&Ee(u,i)&&!Ee(o,i)&&(d.top-i.top)/(d.left-i.left)===(o.top-i.top)/(o.left-i.left)&&(t=function(e,t,n,a){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*a.animation}(d,u,c,a.options)),Ee(i,o)||(n.prevFromRect=o,n.prevToRect=i,t||(t=a.options.animation),a.animate(n,d,i,t)),t&&(l=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),l?e=setTimeout(function(){"function"==typeof n&&n()},r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,a){if(a){pe(e,"transition",""),pe(e,"transform","");var l=ve(this.el),r=l&&l.a,o=l&&l.d,i=(t.left-n.left)/(r||1),u=(t.top-n.top)/(o||1);e.animatingX=!!i,e.animatingY=!!u,pe(e,"transform","translate3d("+i+"px,"+u+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),pe(e,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),pe(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){pe(e,"transition",""),pe(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},a)}}}}var Oe=[],Ae={initializeByDefault:!0},Ie={mount:function(e){for(var t in Ae)Ae.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ae[t]);Oe.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Oe.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var l=e+"Global";Oe.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][l]&&t[a.pluginName][l](J({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](J({sortable:t},n)))})},initializePlugins:function(e,t,n,a){for(var l in Oe.forEach(function(a){var l=a.pluginName;if(e.options[l]||a.initializeByDefault){var r=new a(e,t,e.options);r.sortable=e,r.options=e.options,e[l]=r,G(n,r.defaults)}}),e.options)if(e.options.hasOwnProperty(l)){var r=this.modifyOption(e,l,e.options[l]);void 0!==r&&(e.options[l]=r)}},getEventProperties:function(e,t){var n={};return Oe.forEach(function(a){"function"==typeof a.eventProperties&&G(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return Oe.forEach(function(l){e[l.pluginName]&&l.optionListeners&&"function"==typeof l.optionListeners[t]&&(a=l.optionListeners[t].call(e[l.pluginName],n))}),a}};var Me=["evt"],Pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.evt,l=K(n,Me);Ie.pluginEvent.bind(xt)(e,t,J({dragEl:Ue,parentEl:je,ghostEl:Re,rootEl:Le,nextEl:Fe,lastDownEl:Xe,cloneEl:Ye,cloneHidden:We,dragStarted:at,putSortable:Ke,activeSortable:xt.active,originalEvent:a,oldIndex:qe,oldDraggableIndex:ze,newIndex:Je,newDraggableIndex:He,hideGhostForTarget:St,unhideGhostForTarget:Et,cloneNowHidden:function(){We=!0},cloneNowShown:function(){We=!1},dispatchSortableEvent:function(e){Be({sortable:t,name:e,originalEvent:a})}},l))};function Be(e){!function(e){var t=e.sortable,n=e.rootEl,a=e.name,l=e.targetEl,r=e.cloneEl,o=e.toEl,i=e.fromEl,u=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,s=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[Ve]){var m,h=t.options,g="on"+a.charAt(0).toUpperCase()+a.substr(1);!window.CustomEvent||Q||Z?(m=document.createEvent("Event")).initEvent(a,!0,!0):m=new CustomEvent(a,{bubbles:!0,cancelable:!0}),m.to=o||n,m.from=i||n,m.item=l||n,m.clone=r,m.oldIndex=u,m.newIndex=c,m.oldDraggableIndex=d,m.newDraggableIndex=s,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var b=J(J({},v),Ie.getEventProperties(a,t));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),h[g]&&h[g].call(t,m)}}(J({putSortable:Ke,cloneEl:Ye,targetEl:Ue,rootEl:Le,oldIndex:qe,oldDraggableIndex:ze,newIndex:Je,newDraggableIndex:He},e))}var Ue,je,Re,Le,Fe,Xe,Ye,We,qe,Je,ze,He,Ge,Ke,$e,Qe,Ze,et,tt,nt,at,lt,rt,ot,it,ut=!1,ct=!1,dt=[],st=!1,ft=!1,pt=[],vt=!1,mt=[],ht="undefined"!=typeof document,gt=ne,bt=Z||Q?"cssFloat":"float",yt=ht&&!ae&&!ne&&"draggable"in document.createElement("div"),wt=function(){if(ht){if(Q)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),_t=function(e,t){var n=pe(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=ye(e,0,t),r=ye(e,1,t),o=l&&pe(l),i=r&&pe(r),u=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+ge(l).width,c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ge(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&o.float&&"none"!==o.float){var d="left"===o.float?"left":"right";return!r||"both"!==i.clear&&i.clear!==d?"horizontal":"vertical"}return l&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||u>=a&&"none"===n[bt]||r&&"none"===n[bt]&&u+c>a)?"vertical":"horizontal"},Tt=function(e){function t(e,n){return function(a,l,r,o){var i=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(null==e&&(n||i))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(a,l,r,o),n)(a,l,r,o);var u=(n?a:l).options.group.name;return!0===e||"string"==typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},a=e.group;a&&"object"==z(a)||(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},St=function(){!wt&&Re&&pe(Re,"display","none")},Et=function(){!wt&&Re&&pe(Re,"display","")};ht&&!ae&&document.addEventListener("click",function(e){if(ct)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ct=!1,!1},!0);var Dt=function(e){if(Ue){e=e.touches?e.touches[0]:e;var t=(l=e.clientX,r=e.clientY,dt.some(function(e){var t=e[Ve].options.emptyInsertThreshold;if(t&&!we(e)){var n=ge(e),a=l>=n.left-t&&l<=n.right+t,i=r>=n.top-t&&r<=n.bottom+t;return a&&i?o=e:void 0}}),o);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ve]._onDragOver(n)}}var l,r,o},Nt=function(e){Ue&&Ue.parentNode[Ve]._isOutsideThisEl(e.target)};function xt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=G({},t),e[Ve]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _t(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==xt.supportPointer&&"PointerEvent"in window&&(!te||ne),emptyInsertThreshold:5};for(var a in Ie.initializePlugins(this,e,n),n)!(a in t)&&(t[a]=n[a]);for(var l in Tt(t),this)"_"===l.charAt(0)&&"function"==typeof this[l]&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&yt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?re(e,"pointerdown",this._onTapStart):(re(e,"mousedown",this._onTapStart),re(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(re(e,"dragover",this),re(e,"dragenter",this)),dt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),G(this,ke())}function Ct(e,t,n,a,l,r,o,i){var u,c,d=e[Ve],s=d.options.onMove;return!window.CustomEvent||Q||Z?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=a,u.related=l||t,u.relatedRect=r||ge(t),u.willInsertAfter=i,u.originalEvent=o,e.dispatchEvent(u),s&&(c=s.call(d,u,o)),c}function Vt(e){e.draggable=!1}function kt(){vt=!1}function Ot(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,a=0;n--;)a+=t.charCodeAt(n);return a.toString(36)}function At(e){return setTimeout(e,0)}function It(e){return clearTimeout(e)}xt.prototype={constructor:xt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(lt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Ue):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,l=a.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,i=(o||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,c=a.filter;if(function(e){mt.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var a=t[n];a.checked&&mt.push(a)}}(n),!Ue&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||a.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!te||!i||"SELECT"!==i.tagName.toUpperCase())&&!((i=ce(i,a.draggable,n,!1))&&i.animated||Xe===i)){if(qe=_e(i),ze=_e(i,a.draggable),"function"==typeof c){if(c.call(this,e,i,this))return Be({sortable:t,rootEl:u,name:"filter",targetEl:i,toEl:n,fromEl:n}),Pe("filter",t,{evt:e}),void(l&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(a){if(a=ce(u,a.trim(),n,!1))return Be({sortable:t,rootEl:a,name:"filter",targetEl:i,fromEl:n,toEl:n}),Pe("filter",t,{evt:e}),!0})))return void(l&&e.preventDefault());a.handle&&!ce(u,a.handle,n,!1)||this._prepareDragStart(e,o,i)}}},_prepareDragStart:function(e,t,n){var a,l=this,r=l.el,o=l.options,i=r.ownerDocument;if(n&&!Ue&&n.parentNode===r){var u=ge(n);if(Le=r,je=(Ue=n).parentNode,Fe=Ue.nextSibling,Xe=n,Ge=o.group,xt.dragged=Ue,$e={target:Ue,clientX:(t||e).clientX,clientY:(t||e).clientY},tt=$e.clientX-u.left,nt=$e.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Ue.style["will-change"]="all",a=function(){Pe("delayEnded",l,{evt:e}),xt.eventCanceled?l._onDrop():(l._disableDelayedDragEvents(),!ee&&l.nativeDraggable&&(Ue.draggable=!0),l._triggerDragStart(e,t),Be({sortable:l,name:"choose",originalEvent:e}),fe(Ue,o.chosenClass,!0))},o.ignore.split(",").forEach(function(e){me(Ue,e.trim(),Vt)}),re(i,"dragover",Dt),re(i,"mousemove",Dt),re(i,"touchmove",Dt),o.supportPointer?(re(i,"pointerup",l._onDrop),!this.nativeDraggable&&re(i,"pointercancel",l._onDrop)):(re(i,"mouseup",l._onDrop),re(i,"touchend",l._onDrop),re(i,"touchcancel",l._onDrop)),ee&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ue.draggable=!0),Pe("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(Z||Q))a();else{if(xt.eventCanceled)return void this._onDrop();o.supportPointer?(re(i,"pointerup",l._disableDelayedDrag),re(i,"pointercancel",l._disableDelayedDrag)):(re(i,"mouseup",l._disableDelayedDrag),re(i,"touchend",l._disableDelayedDrag),re(i,"touchcancel",l._disableDelayedDrag)),re(i,"mousemove",l._delayedDragTouchMoveHandler),re(i,"touchmove",l._delayedDragTouchMoveHandler),o.supportPointer&&re(i,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(a,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ue&&Vt(Ue),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;oe(e,"mouseup",this._disableDelayedDrag),oe(e,"touchend",this._disableDelayedDrag),oe(e,"touchcancel",this._disableDelayedDrag),oe(e,"pointerup",this._disableDelayedDrag),oe(e,"pointercancel",this._disableDelayedDrag),oe(e,"mousemove",this._delayedDragTouchMoveHandler),oe(e,"touchmove",this._delayedDragTouchMoveHandler),oe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?re(document,"pointermove",this._onTouchMove):re(document,t?"touchmove":"mousemove",this._onTouchMove):(re(Ue,"dragend",this),re(Le,"dragstart",this._onDragStart));try{document.selection?At(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(ut=!1,Le&&Ue){Pe("dragStarted",this,{evt:t}),this.nativeDraggable&&re(document,"dragover",Nt);var n=this.options;!e&&fe(Ue,n.dragClass,!1),fe(Ue,n.ghostClass,!0),xt.active=this,e&&this._appendGhost(),Be({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Qe){this._lastX=Qe.clientX,this._lastY=Qe.clientY,St();for(var e=document.elementFromPoint(Qe.clientX,Qe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Qe.clientX,Qe.clientY))!==t;)t=e;if(Ue.parentNode[Ve]._isOutsideThisEl(e),t)do{if(t[Ve]){if(t[Ve]._onDragOver({clientX:Qe.clientX,clientY:Qe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=ue(t));Et()}},_onTouchMove:function(e){if($e){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,l=e.touches?e.touches[0]:e,r=Re&&ve(Re,!0),o=Re&&r&&r.a,i=Re&&r&&r.d,u=gt&&it&&Te(it),c=(l.clientX-$e.clientX+a.x)/(o||1)+(u?u[0]-pt[0]:0)/(o||1),d=(l.clientY-$e.clientY+a.y)/(i||1)+(u?u[1]-pt[1]:0)/(i||1);if(!xt.active&&!ut){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Re){r?(r.e+=c-(Ze||0),r.f+=d-(et||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var s="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");pe(Re,"webkitTransform",s),pe(Re,"mozTransform",s),pe(Re,"msTransform",s),pe(Re,"transform",s),Ze=c,et=d,Qe=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Re){var e=this.options.fallbackOnBody?document.body:Le,t=ge(Ue,!0,gt,!0,e),n=this.options;if(gt){for(it=e;"static"===pe(it,"position")&&"none"===pe(it,"transform")&&it!==document;)it=it.parentNode;it!==document.body&&it!==document.documentElement?(it===document&&(it=he()),t.top+=it.scrollTop,t.left+=it.scrollLeft):it=he(),pt=Te(it)}fe(Re=Ue.cloneNode(!0),n.ghostClass,!1),fe(Re,n.fallbackClass,!0),fe(Re,n.dragClass,!0),pe(Re,"transition",""),pe(Re,"transform",""),pe(Re,"box-sizing","border-box"),pe(Re,"margin",0),pe(Re,"top",t.top),pe(Re,"left",t.left),pe(Re,"width",t.width),pe(Re,"height",t.height),pe(Re,"opacity","0.8"),pe(Re,"position",gt?"absolute":"fixed"),pe(Re,"zIndex","100000"),pe(Re,"pointerEvents","none"),xt.ghost=Re,e.appendChild(Re),pe(Re,"transform-origin",tt/parseInt(Re.style.width)*100+"% "+nt/parseInt(Re.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,l=n.options;Pe("dragStart",this,{evt:e}),xt.eventCanceled?this._onDrop():(Pe("setupClone",this),xt.eventCanceled||((Ye=xe(Ue)).removeAttribute("id"),Ye.draggable=!1,Ye.style["will-change"]="",this._hideClone(),fe(Ye,this.options.chosenClass,!1),xt.clone=Ye),n.cloneId=At(function(){Pe("clone",n),xt.eventCanceled||(n.options.removeCloneOnHide||Le.insertBefore(Ye,Ue),n._hideClone(),Be({sortable:n,name:"clone"}))}),!t&&fe(Ue,l.dragClass,!0),t?(ct=!0,n._loopId=setInterval(n._emulateDragOver,50)):(oe(document,"mouseup",n._onDrop),oe(document,"touchend",n._onDrop),oe(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(n,a,Ue)),re(document,"drop",n),pe(Ue,"transform","translateZ(0)")),ut=!0,n._dragStartId=At(n._dragStarted.bind(n,t,e)),re(document,"selectstart",n),at=!0,window.getSelection().removeAllRanges(),te&&pe(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,a,l,r=this.el,o=e.target,i=this.options,u=i.group,c=xt.active,d=Ge===u,s=i.sort,f=Ke||c,p=this,v=!1;if(!vt){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=ce(o,i.draggable,r,!0),V("dragOver"),xt.eventCanceled)return v;if(Ue.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return O(!1);if(ct=!1,c&&!i.disabled&&(d?s||(a=je!==Le):Ke===this||(this.lastPutMode=Ge.checkPull(this,c,Ue,e))&&u.checkPut(this,c,Ue,e))){if(l="vertical"===this._getDirection(e,o),t=ge(Ue),V("dragOverValid"),xt.eventCanceled)return v;if(a)return je=Le,k(),this._hideClone(),V("revert"),xt.eventCanceled||(Fe?Le.insertBefore(Ue,Fe):Le.appendChild(Ue)),O(!0);var m=we(r,i.draggable);if(!m||function(e,t,n){var a=ge(we(n.el,n.options.draggable)),l=Ce(n.el,n.options,Re),r=10;return t?e.clientX>l.right+r||e.clientY>a.bottom&&e.clientX>a.left:e.clientY>l.bottom+r||e.clientX>a.right&&e.clientY>a.top}(e,l,this)&&!m.animated){if(m===Ue)return O(!1);if(m&&r===e.target&&(o=m),o&&(n=ge(o)),!1!==Ct(Le,r,Ue,t,o,n,e,!!o))return k(),m&&m.nextSibling?r.insertBefore(Ue,m.nextSibling):r.appendChild(Ue),je=r,A(),O(!0)}else if(m&&function(e,t,n){var a=ge(ye(n.el,0,n.options,!0)),l=Ce(n.el,n.options,Re),r=10;return t?e.clientX<l.left-r||e.clientY<a.top&&e.clientX<a.right:e.clientY<l.top-r||e.clientY<a.bottom&&e.clientX<a.left}(e,l,this)){var h=ye(r,0,i,!0);if(h===Ue)return O(!1);if(n=ge(o=h),!1!==Ct(Le,r,Ue,t,o,n,e,!1))return k(),r.insertBefore(Ue,h),je=r,A(),O(!0)}else if(o.parentNode===r){n=ge(o);var g,b,y,w=Ue.parentNode!==r,_=!function(e,t,n){var a=n?e.left:e.top,l=n?e.right:e.bottom,r=n?e.width:e.height,o=n?t.left:t.top,i=n?t.right:t.bottom,u=n?t.width:t.height;return a===o||l===i||a+r/2===o+u/2}(Ue.animated&&Ue.toRect||t,o.animated&&o.toRect||n,l),T=l?"top":"left",S=be(o,"top","top")||be(Ue,"top","top"),E=S?S.scrollTop:void 0;if(lt!==o&&(b=n[T],st=!1,ft=!_&&i.invertSwap||w),g=function(e,t,n,a,l,r,o,i){var u=a?e.clientY:e.clientX,c=a?n.height:n.width,d=a?n.top:n.left,s=a?n.bottom:n.right,f=!1;if(!o)if(i&&ot<c*l){if(!st&&(1===rt?u>d+c*r/2:u<s-c*r/2)&&(st=!0),st)f=!0;else if(1===rt?u<d+ot:u>s-ot)return-rt}else if(u>d+c*(1-l)/2&&u<s-c*(1-l)/2)return function(e){return _e(Ue)<_e(e)?1:-1}(t);if((f=f||o)&&(u<d+c*r/2||u>s-c*r/2))return u>d+c/2?1:-1;return 0}(e,o,n,l,_?1:i.swapThreshold,null==i.invertedSwapThreshold?i.swapThreshold:i.invertedSwapThreshold,ft,lt===o),0!==g){var D=_e(Ue);do{D-=g,y=je.children[D]}while(y&&("none"===pe(y,"display")||y===Re))}if(0===g||y===o)return O(!1);lt=o,rt=g;var N=o.nextElementSibling,x=!1,C=Ct(Le,r,Ue,t,o,n,e,x=1===g);if(!1!==C)return 1!==C&&-1!==C||(x=1===C),vt=!0,setTimeout(kt,30),k(),x&&!N?r.appendChild(Ue):o.parentNode.insertBefore(Ue,x?N:o),S&&Ne(S,0,E-S.scrollTop),je=Ue.parentNode,void 0===b||ft||(ot=Math.abs(b-ge(o)[T])),A(),O(!0)}if(r.contains(Ue))return O(!1)}return!1}function V(i,u){Pe(i,p,J({evt:e,isOwner:d,axis:l?"vertical":"horizontal",revert:a,dragRect:t,targetRect:n,canSort:s,fromSortable:f,target:o,completed:O,onMove:function(n,a){return Ct(Le,r,Ue,t,n,ge(n),e,a)},changed:A},u))}function k(){V("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function O(t){return V("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(p),p!==f&&(fe(Ue,Ke?Ke.options.ghostClass:c.options.ghostClass,!1),fe(Ue,i.ghostClass,!0)),Ke!==p&&p!==xt.active?Ke=p:p===xt.active&&Ke&&(Ke=null),f===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){V("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===Ue&&!Ue.animated||o===r&&!o.animated)&&(lt=null),i.dragoverBubble||e.rootEl||o===document||(Ue.parentNode[Ve]._isOutsideThisEl(e.target),!t&&Dt(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function A(){Je=_e(Ue),He=_e(Ue,i.draggable),Be({sortable:p,name:"change",toEl:r,newIndex:Je,newDraggableIndex:He,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){oe(document,"mousemove",this._onTouchMove),oe(document,"touchmove",this._onTouchMove),oe(document,"pointermove",this._onTouchMove),oe(document,"dragover",Dt),oe(document,"mousemove",Dt),oe(document,"touchmove",Dt)},_offUpEvents:function(){var e=this.el.ownerDocument;oe(e,"mouseup",this._onDrop),oe(e,"touchend",this._onDrop),oe(e,"pointerup",this._onDrop),oe(e,"pointercancel",this._onDrop),oe(e,"touchcancel",this._onDrop),oe(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Je=_e(Ue),He=_e(Ue,n.draggable),Pe("drop",this,{evt:e}),je=Ue&&Ue.parentNode,Je=_e(Ue),He=_e(Ue,n.draggable),xt.eventCanceled||(ut=!1,ft=!1,st=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),It(this.cloneId),It(this._dragStartId),this.nativeDraggable&&(oe(document,"drop",this),oe(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),te&&pe(document.body,"user-select",""),pe(Ue,"transform",""),e&&(at&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Re&&Re.parentNode&&Re.parentNode.removeChild(Re),(Le===je||Ke&&"clone"!==Ke.lastPutMode)&&Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),Ue&&(this.nativeDraggable&&oe(Ue,"dragend",this),Vt(Ue),Ue.style["will-change"]="",at&&!ut&&fe(Ue,Ke?Ke.options.ghostClass:this.options.ghostClass,!1),fe(Ue,this.options.chosenClass,!1),Be({sortable:this,name:"unchoose",toEl:je,newIndex:null,newDraggableIndex:null,originalEvent:e}),Le!==je?(Je>=0&&(Be({rootEl:je,name:"add",toEl:je,fromEl:Le,originalEvent:e}),Be({sortable:this,name:"remove",toEl:je,originalEvent:e}),Be({rootEl:je,name:"sort",toEl:je,fromEl:Le,originalEvent:e}),Be({sortable:this,name:"sort",toEl:je,originalEvent:e})),Ke&&Ke.save()):Je!==qe&&Je>=0&&(Be({sortable:this,name:"update",toEl:je,originalEvent:e}),Be({sortable:this,name:"sort",toEl:je,originalEvent:e})),xt.active&&(null!=Je&&-1!==Je||(Je=qe,He=ze),Be({sortable:this,name:"end",toEl:je,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Pe("nulling",this),Le=Ue=je=Re=Fe=Ye=Xe=We=$e=Qe=at=Je=He=qe=ze=lt=rt=Ke=Ge=xt.dragged=xt.ghost=xt.clone=xt.active=null,mt.forEach(function(e){e.checked=!0}),mt.length=Ze=et=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ue&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,a=0,l=n.length,r=this.options;a<l;a++)ce(e=n[a],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Ot(e));return t},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(e,t){var l=a.children[t];ce(l,this.options.draggable,a,!1)&&(n[e]=l)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(a.removeChild(n[e]),a.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ce(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var a=Ie.modifyOption(this,e,t);n[e]=void 0!==a?a:t,"group"===e&&Tt(n)},destroy:function(){Pe("destroy",this);var e=this.el;e[Ve]=null,oe(e,"mousedown",this._onTapStart),oe(e,"touchstart",this._onTapStart),oe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(oe(e,"dragover",this),oe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dt.splice(dt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!We){if(Pe("hideClone",this),xt.eventCanceled)return;pe(Ye,"display","none"),this.options.removeCloneOnHide&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),We=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(We){if(Pe("showClone",this),xt.eventCanceled)return;Ue.parentNode!=Le||this.options.group.revertClone?Fe?Le.insertBefore(Ye,Fe):Le.appendChild(Ye):Le.insertBefore(Ye,Ue),this.options.group.revertClone&&this.animate(Ue,Ye),pe(Ye,"display",""),We=!1}}else this._hideClone()}},ht&&re(document,"touchmove",function(e){(xt.active||ut)&&e.cancelable&&e.preventDefault()}),xt.utils={on:re,off:oe,css:pe,find:me,is:function(e,t){return!!ce(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:De,closest:ce,toggleClass:fe,clone:xe,index:_e,nextTick:At,cancelNextTick:It,detectDirection:_t,getChild:ye,expando:Ve},xt.get=function(e){return e[Ve]},xt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(xt.utils=J(J({},xt.utils),e.utils)),Ie.mount(e)})},xt.create=function(e,t){return new xt(e,t)},xt.version="1.15.6";var Mt,Pt,Bt,Ut,jt,Rt,Lt=[],Ft=!1;function Xt(){Lt.forEach(function(e){clearInterval(e.pid)}),Lt=[]}function Yt(){clearInterval(Rt)}var Wt=De(function(e,t,n,a){if(t.scroll){var l,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,u=t.scrollSpeed,c=he(),d=!1;Pt!==n&&(Pt=n,Xt(),Mt=t.scroll,l=t.scrollFn,!0===Mt&&(Mt=Se(n,!0)));var s=0,f=Mt;do{var p=f,v=ge(p),m=v.top,h=v.bottom,g=v.left,b=v.right,y=v.width,w=v.height,_=void 0,T=void 0,S=p.scrollWidth,E=p.scrollHeight,D=pe(p),N=p.scrollLeft,x=p.scrollTop;p===c?(_=y<S&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),T=w<E&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(_=y<S&&("auto"===D.overflowX||"scroll"===D.overflowX),T=w<E&&("auto"===D.overflowY||"scroll"===D.overflowY));var C=_&&(Math.abs(b-r)<=i&&N+y<S)-(Math.abs(g-r)<=i&&!!N),V=T&&(Math.abs(h-o)<=i&&x+w<E)-(Math.abs(m-o)<=i&&!!x);if(!Lt[s])for(var k=0;k<=s;k++)Lt[k]||(Lt[k]={});Lt[s].vx==C&&Lt[s].vy==V&&Lt[s].el===p||(Lt[s].el=p,Lt[s].vx=C,Lt[s].vy=V,clearInterval(Lt[s].pid),0==C&&0==V||(d=!0,Lt[s].pid=setInterval(function(){a&&0===this.layer&&xt.active._onTouchMove(jt);var t=Lt[this.layer].vy?Lt[this.layer].vy*u:0,n=Lt[this.layer].vx?Lt[this.layer].vx*u:0;"function"==typeof l&&"continue"!==l.call(xt.dragged.parentNode[Ve],n,t,e,jt,Lt[this.layer].el)||Ne(Lt[this.layer].el,n,t)}.bind({layer:s}),24))),s++}while(t.bubbleScroll&&f!==c&&(f=Se(f,!1)));Ft=d}},30),qt=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,l=e.activeSortable,r=e.dispatchSortableEvent,o=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(t){var u=n||l;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);i(),u&&!u.el.contains(d)&&(r("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Jt(){}function zt(){}Jt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=ye(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:qt},G(Jt,{pluginName:"revertOnSpill"}),zt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:qt},G(zt,{pluginName:"removeOnSpill"}),xt.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?re(document,"pointermove",this._handleFallbackAutoScroll):t.touches?re(document,"touchmove",this._handleFallbackAutoScroll):re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?oe(document,"dragover",this._handleAutoScroll):(oe(document,"pointermove",this._handleFallbackAutoScroll),oe(document,"touchmove",this._handleFallbackAutoScroll),oe(document,"mousemove",this._handleFallbackAutoScroll)),Yt(),Xt(),clearTimeout(de),de=void 0},nulling:function(){jt=Pt=Mt=Ft=Rt=Bt=Ut=null,Lt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(a,l);if(jt=e,t||this.options.forceAutoScrollFallback||Z||Q||te){Wt(e,this.options,r,t);var o=Se(r,!0);!Ft||Rt&&a===Bt&&l===Ut||(Rt&&Yt(),Rt=setInterval(function(){var r=Se(document.elementFromPoint(a,l),!0);r!==o&&(o=r,Xt()),Wt(e,n.options,r,t)},10),Bt=a,Ut=l)}else{if(!this.options.bubbleScroll||Se(r,!0)===he())return void Xt();Wt(e,this.options,Se(r,!1),!1)}}},G(e,{pluginName:"scroll",initializeByDefault:!0})}),xt.mount(zt,Jt);var Ht={key:0,class:"gva-search-box"},Gt={class:"relative"},Kt={class:"flex absolute right-28 bottom-2"},$t={class:"flex absolute right-2 bottom-2"},Qt={key:1,class:"gva-search-box"},Zt={style:{float:"right",color:"#8492a6","font-size":"13px"}},en={class:"flex justify-end w-full"},tn={class:"gva-search-box"},nn={class:"flex gap-2 w-full"},an={class:"absolute right-0"},ln={style:{float:"right",color:"#8492a6","font-size":"13px"}},rn={class:"gva-search-box"},on={class:"text-lg ml-auto mr-4 font-normal"},un={class:"p-4"},cn={class:"border-b border-gray-200 last:border-0"},dn={class:"border-b border-gray-200 last:border-0"},sn={class:"border-b border-gray-200 last:border-0"},fn={class:"last:pb-0"},pn={class:"flex items-center gap-4"},vn={class:"gva-table-box"},mn={class:"gva-btn-list"},hn={class:"draggable"},gn={class:"gva-btn-list justify-end mt-4"},bn={class:"flex justify-between items-center"},yn={class:"flex justify-between items-center"};e("default",Object.assign({name:"AutoCode"},{__name:"index",setup:function(e){var t=w().token,q=function(){document.addEventListener("keydown",z),document.addEventListener("paste",H)},J=function(){document.removeEventListener("keydown",z),document.removeEventListener("paste",H)},z=function(e){(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&Q()},H=function(e){for(var t=e.clipboardData.items,n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var a=t[n].getAsFile(),r=new FileReader;r.onload=function(){var e=i(l().m(function e(t){var n,a;return l().w(function(e){for(;;)switch(e.n){case 0:return n=t.target.result,e.n=1,s({picture:n,command:"eye"});case 1:0===(a=e.v).code&&(K.value=a.data,Q());case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),r.readAsDataURL(a)}},G=function(){for(var e="";e.length<16;)e+=Math.random().toString(16).substring(2);return e.substring(0,16)},K=_(""),$=function(){var e=i(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:(t=document.createElement("input")).type="file",t.accept="image/*",t.onchange=function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){var e=i(l().m(function e(t){var n,a;return l().w(function(e){for(;;)switch(e.n){case 0:return n=t.target.result,e.n=1,s({picture:n,command:"eye"});case 1:0===(a=e.v).code&&(K.value=a.data,Q());case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),n.readAsDataURL(t)}},t.click();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=i(l().m(function e(t){var n,a,r,i;return l().w(function(e){for(;;)switch(e.n){case 0:if(!t||pe.value.structName){e.n=1;break}return L.error("请输入结构体名称"),e.a(2);case 1:if(t||K.value){e.n=2;break}return L.error("请输入描述"),e.a(2);case 2:if(!(pe.value.fields.length>0)){e.n=4;break}return e.n=3,F.confirm("AI生成会清空当前数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:if("confirm"===e.v){e.n=4;break}return e.a(2);case 4:return e.n=5,f({prompt:t?"结构体名称为"+pe.value.structName:K.value});case 5:if(0===(n=e.v).code){for(i in pe.value.fields=[],r=JSON.parse(n.data),null===(a=r.fields)||void 0===a||a.forEach(function(e){e.fieldName=o(e.fieldName)}),r)pe.value[i]=r[i];pe.value.generateServer=!0,pe.value.generateWeb=!0}case 6:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Z=_(!1);T(function(){var e,t;t=document.querySelector(".draggable .el-table__body-wrapper tbody"),xt.create(t,{draggable:".draggable .el-table__row",handle:".drag-column",onEnd:(e=i(l().m(function e(t){var n,a,r;return l().w(function(e){for(;;)switch(e.n){case 0:return n=t.newIndex,a=t.oldIndex,e.n=1,R();case 1:r=pe.value.fields.splice(a,1)[0],pe.value.fields.splice(n,0,r);case 2:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})})});var ee=["id","created_at","updated_at","deleted_at"],te=["created_by","updated_by","deleted_by"],ne=_([{label:"字符串",value:"string"},{label:"富文本",value:"richtext"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"},{label:"单图片（字符串）",value:"picture"},{label:"多图片（json字符串）",value:"pictures"},{label:"视频（字符串）",value:"video"},{label:"文件（json字符串）",value:"file"},{label:"JSON",value:"json"},{label:"数组",value:"array"}]),ae=_([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),le=_([{label:"index",value:"index"},{label:"uniqueIndex",value:"uniqueIndex"}]),re={fieldName:"",fieldDesc:"",fieldType:"",dataType:"",fieldJson:"",columnName:"",dataTypeLong:"",comment:"",defaultValue:"",require:!1,sort:!1,form:!0,desc:!0,table:!0,excel:!1,errorText:"",primaryKey:!1,clearable:!0,fieldSearchType:"",fieldIndexType:"",dictType:"",dataSource:{dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}},oe=S(),ie=E(),ue=_({}),ce=_({businessDB:"",dbName:"",tableName:""}),de=_([]),se=_(""),fe=_({}),pe=_({structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoCreateMenuToSql:!0,autoCreateBtnAuth:!1,autoMigrate:!0,gvaModel:!0,autoCreateResource:!1,onlyTemplate:!1,isTree:!1,generateWeb:!0,generateServer:!0,treeJson:"",fields:[]}),ve=_({structName:[{required:!0,message:"请输入结构体名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入结构体简称",trigger:"blur"}],description:[{required:!0,message:"请输入结构体描述",trigger:"blur"}],packageName:[{required:!0,message:"文件名称：sysXxxxXxxx",trigger:"blur"}],package:[{required:!0,message:"请选择package",trigger:"blur"}]}),me=_({}),he=_({}),ge=_(!1),be=_(!1),ye=function(e){e&&pe.value.fields.length&&F.confirm("如果您开启GVA默认结构，会自动添加ID,CreatedAt,UpdatedAt,DeletedAt字段，此行为将自动清除您目前在下方创建的重名字段，是否继续？","注意",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){pe.value.fields=pe.value.fields.filter(function(e){return!ee.some(function(t){return t===e.columnName})})}).catch(function(){pe.value.gvaModel=!1})},we=_(null),_e=function(){we.value.selectText()},Te=function(){we.value.copy()},Se=function(e){ge.value=!0,e?(se.value="edit",e.dataSource||(e.dataSource={dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}),he.value=JSON.parse(JSON.stringify(e)),me.value=e):(se.value="add",re.onlyNumber=G(),me.value=JSON.parse(JSON.stringify(re)))},Ee=_(null),De=function(){Ee.value.fieldDialogForm.validate(function(e){if(!e)return!1;me.value.fieldName=o(me.value.fieldName),"add"===se.value&&pe.value.fields.push(me.value),ge.value=!1})},Ne=function(){"edit"===se.value&&(me.value=he.value),ge.value=!1},xe=_(null),Ce=function(){var e=i(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:if(!pe.value.isTree||pe.value.treeJson){e.n=1;break}return L({type:"error",message:"请填写树型结构的前端展示json属性"}),e.a(2,!1);case 1:if(pe.value.generateWeb||pe.value.generateServer){e.n=2;break}return L({type:"error",message:"请至少选择一个生成项"}),e.a(2,!1);case 2:if(pe.value.onlyTemplate){e.n=8;break}if(!(pe.value.fields.length<=0)){e.n=3;break}return L({type:"error",message:"请填写至少一个field"}),e.a(2,!1);case 3:if(pe.value.gvaModel||!pe.value.fields.every(function(e){return!e.primaryKey})){e.n=4;break}return L({type:"error",message:"您至少需要创建一个主键才能保证自动化代码的可行性"}),e.a(2,!1);case 4:if(!pe.value.fields.some(function(e){return e.fieldName===pe.value.structName})){e.n=5;break}return L({type:"error",message:"存在与结构体同名的字段"}),e.a(2,!1);case 5:if(!pe.value.fields.some(function(e){return e.fieldJson===pe.value.package})){e.n=6;break}return L({type:"error",message:"存在与模板同名的的字段JSON"}),e.a(2,!1);case 6:if(!pe.value.fields.some(function(e){return!e.fieldType})){e.n=7;break}return L({type:"error",message:"请填写所有字段类型后进行提交"}),e.a(2,!1);case 7:if(pe.value.package!==pe.value.abbreviation){e.n=8;break}return L({type:"error",message:"package和结构体简称不可同名"}),e.a(2,!1);case 8:xe.value.validate(function(){var e=i(l().m(function e(a){var r,i,u;return l().w(function(e){for(;;)switch(e.n){case 0:if(!a){e.n=7;break}for(i in pe.value)"string"==typeof pe.value[i]&&(pe.value[i]=pe.value[i].trim());if(pe.value.structName=o(pe.value.structName),pe.value.tableName=pe.value.tableName.replace(" ",""),pe.value.tableName||(pe.value.tableName=d(c(pe.value.structName))),pe.value.structName!==pe.value.abbreviation){e.n=1;break}return L({type:"error",message:"structName和struct简称不能相同"}),e.a(2,!1);case 1:if(pe.value.humpPackageName=d(pe.value.packageName),null===(r=pe.value.fields)||void 0===r||r.forEach(function(e){if(e.fieldName=o(e.fieldName),"enum"===e.fieldType){e.dataTypeLong=e.dataTypeLong.replace(/[\[\]{}()]/g,"");var t=e.dataTypeLong.split(",");t.forEach(function(e,n){-1===e.indexOf("'")&&(t[n]="'".concat(e,"'"))}),e.dataTypeLong=t.join(",")}}),delete pe.value.primaryField,!t){e.n=4;break}return e.n=2,g(n(n({},pe.value),{},{isAdd:!!Z.value,fields:pe.value.fields.filter(function(e){return!e.disabled})}));case 2:if(0===(u=e.v).code){e.n=3;break}return e.a(2);case 3:ue.value=u.data.autoCode,be.value=!0,e.n=7;break;case 4:return e.n=5,b(pe.value);case 5:if(0===e.v.code){e.n=6;break}return e.a(2);case 6:L({type:"success",message:"自动化代码创建成功，自动移动成功"}),Fe();case 7:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 9:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ve=_([]),ke=_([]),Oe=function(){var e=i(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return ce.value.dbName="",ce.value.tableName="",e.n=1,p({businessDB:ce.value.businessDB});case 1:0===(t=e.v).code&&(ke.value=t.data.dbs,Ve.value=t.data.dbList);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=i(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,v({businessDB:ce.value.businessDB,dbName:ce.value.dbName});case 1:0===(t=e.v).code&&(de.value=t.data.tables),ce.value.tableName="";case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=i(l().m(function e(){var t,n,a,r,i;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m(ce.value);case 1:0===(t=e.v).code&&(n="",""!==ce.value.businessDB&&(a=Ve.value.find(function(e){return e.aliasName===ce.value.businessDB}),r=X(a),n=r.dbtype),pe.value.gvaModel=!1,i=u(ce.value.tableName),pe.value.structName=o(i),pe.value.tableName=ce.value.tableName,pe.value.packageName=c(i),pe.value.abbreviation=c(i),pe.value.description=i+"表",pe.value.autoCreateApiToSql=!0,pe.value.generateServer=!0,pe.value.generateWeb=!0,pe.value.fields=[],t.data.columns&&t.data.columns.forEach(function(e){if(Me(e)){var t=u(e.columnName);pe.value.fields.push({onlyNumber:G(),fieldName:o(t),fieldDesc:e.columnComment||t+"字段",fieldType:fe.value[e.dataType],dataType:e.dataType,fieldJson:t,primaryKey:e.primaryKey,dataTypeLong:e.dataTypeLong&&e.dataTypeLong.split(",")[0],columnName:"oracle"===n?e.columnName.toUpperCase():e.columnName,comment:e.columnComment,require:!1,errorText:"",clearable:!0,fieldSearchType:"",fieldIndexType:"",dictType:"",form:!0,table:!0,excel:!1,desc:!0,dataSource:{dbName:"",association:1,table:"",label:"",value:"",hasDeletedAt:!1}})}}));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Me=function(e){var t=!0;return pe.value.gvaModel&&ee.some(function(t){return t===e.columnName})&&(t=!1),pe.value.autoCreateResource&&te.some(function(t){return t===e.columnName})&&(t=!1),t},Pe=function(){var e=i(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:["string","int","bool","float64","time.Time"].forEach(function(){var e=i(l().m(function e(t){var n;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Y(t);case 1:(n=e.v)&&n.forEach(function(e){fe.value[e.label]=t});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=i(l().m(function e(t){var n,a;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,y({id:Number(t)});case 1:0===(n=e.v).code&&(a=oe.query.isAdd,Z.value=a,pe.value=JSON.parse(n.data.meta),Z.value&&pe.value.fields.forEach(function(e){e.disabled=!0}));case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ue=_([]),je=function(){var e=i(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,h();case 1:0===(t=e.v).code&&(Ue.value=t.data.pkgs);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Re=function(){ie.push({name:"autoPkg"})};!function(){Oe(),Pe(),je();var e=oe.params.id;e&&Be(e)}(),D(function(){return pe.value.generateServer},function(){pe.value.generateServer||(pe.value.autoCreateApiToSql=!1,pe.value.autoMigrate=!1)}),D(function(){return pe.value.generateWeb},function(){pe.value.generateWeb||(pe.value.autoCreateMenuToSql=!1,pe.value.autoCreateBtnAuth=!1)});var Le,Fe=function(){var e=i(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return pe.value={structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoCreateMenuToSql:!0,autoCreateBtnAuth:!1,autoMigrate:!0,gvaModel:!0,autoCreateResource:!1,onlyTemplate:!1,isTree:!1,treeJson:"",fields:[]},e.n=1,R();case 1:window.sessionStorage.removeItem("autoCode");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();(Le=window.sessionStorage.getItem("autoCode"))&&(pe.value=JSON.parse(Le));var Xe=function(e){var t=new FileReader;return t.onload=function(e){try{pe.value=JSON.parse(e.target.result),pe.value.generateServer=!0,pe.value.generateWeb=!0,L.success("JSON 文件导入成功")}catch(t){L.error("无效的 JSON 文件")}},t.readAsText(e),!1};D(function(){return pe.value.onlyTemplate},function(e){e&&F.confirm("使用基础模板将不会生成任何结构体和CURD,仅仅配置enter等属性方便自行开发非CURD逻辑","注意",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){pe.value.fields=[]}).catch(function(){pe.value.onlyTemplate=!1})});var Ye=function(e,t){if("richtext"===e)return"LIKE"!==t;if("string"!==e&&"LIKE"===t)return!0;return!(["int","time.Time","float64"].includes(e)||!["BETWEEN","NOT BETWEEN"].includes(t))};return function(e,n){var o=N("el-input"),u=N("ai-gva"),d=N("el-icon"),s=N("el-button"),f=N("el-tooltip"),p=N("QuestionFilled"),v=N("el-option"),m=N("el-select"),h=N("el-form-item"),g=N("el-col"),b=N("el-row"),y=N("el-form"),w=N("refresh"),_=N("document-add"),T=N("el-checkbox"),S=N("el-collapse-item"),E=N("el-collapse"),D=N("MoreFilled"),R=N("el-table-column"),X=N("el-table"),Y=N("el-upload"),z=N("el-drawer");return C(),x("div",null,[V(W,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请点我观看。"}),Z.value?k("",!0):(C(),x("div",Ht,[n[38]||(n[38]=O("div",{class:"text-lg mb-2 text-gray-600"},[A(" 使用AI创建"),O("a",{class:"text-blue-600 text-sm ml-4",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"获取AiPath")],-1)),O("div",Gt,[V(o,{modelValue:K.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return K.value=e}),type:"textarea",rows:5,maxlength:2e3,placeholder:"现已完全免费\n试试复制一张图片然后按下ctrl+v或者commend+v\n试试描述你的表，让AI帮你完成。\n此功能需要到插件市场个人中心获取自己的AI-Path，把AI-Path填入config.yaml下的autocode--\x3eai-path，重启项目即可使用。\n按下 Ctrl+Enter 或 Cmd+Enter 直接生成",resize:"none",onFocus:q,onBlur:J},null,8,["modelValue"]),O("div",Kt,[V(f,{effect:"light"},{content:I(function(){return n[34]||(n[34]=[O("div",null,[A(" 【完全免费】前往"),O("a",{class:"text-blue-600",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"插件市场个人中心"),A("申请AIPath，填入config.yaml的ai-path属性即可使用。 ")],-1)])}),default:I(function(){return[V(s,{disabled:pe.value.onlyTemplate,type:"primary",onClick:n[1]||(n[1]=function(e){return $()})},{default:I(function(){return[V(d,{size:"18"},{default:I(function(){return[V(u)]}),_:1}),n[35]||(n[35]=A(" 识图 "))]}),_:1,__:[35]},8,["disabled"])]}),_:1})]),O("div",$t,[V(f,{effect:"light"},{content:I(function(){return n[36]||(n[36]=[O("div",null,[A(" 【完全免费】前往"),O("a",{class:"text-blue-600",href:"https://plugin.gin-vue-admin.com/#/layout/userInfo/center",target:"_blank"},"插件市场个人中心"),A("申请AIPath，填入config.yaml的ai-path属性即可使用。 ")],-1)])}),default:I(function(){return[V(s,{disabled:pe.value.onlyTemplate,type:"primary",onClick:n[2]||(n[2]=function(e){return Q()})},{default:I(function(){return[V(d,{size:"18"},{default:I(function(){return[V(u)]}),_:1}),n[37]||(n[37]=A(" 生成 "))]}),_:1,__:[37]},8,["disabled"])]}),_:1})])])])),Z.value?k("",!0):(C(),x("div",Qt,[n[41]||(n[41]=O("div",{class:"text-lg mb-2 text-gray-600"},"从数据库创建",-1)),V(y,{ref:"getTableForm",inline:!0,model:ce.value,"label-width":"120px"},{default:I(function(){return[V(b,{class:"w-full"},{default:I(function(){return[V(g,{span:6},{default:I(function(){return[V(h,{label:"业务库",prop:"selectDBtype",class:"w-full"},{label:I(function(){return[V(f,{content:"注：需要提前到db-list自行配置多数据库，如未配置需配置后重启服务方可使用。（此处可选择对应库表，可理解为从哪个库选择表）",placement:"bottom",effect:"light"},{default:I(function(){return[O("div",null,[n[39]||(n[39]=A(" 业务库 ")),V(d,null,{default:I(function(){return[V(p)]}),_:1})])]}),_:1})]}),default:I(function(){return[V(m,{modelValue:ce.value.businessDB,"onUpdate:modelValue":n[3]||(n[3]=function(e){return ce.value.businessDB=e}),clearable:"",placeholder:"选择业务库",onChange:Oe,class:"w-full"},{default:I(function(){return[(C(!0),x(M,null,P(Ve.value,function(e){return C(),B(v,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:I(function(){return[O("div",null,[O("span",null,U(e.aliasName),1),O("span",Zt,U(e.dbName),1)])]}),_:2},1032,["value","label","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"数据库名",prop:"structName",class:"w-full"},{default:I(function(){return[V(m,{modelValue:ce.value.dbName,"onUpdate:modelValue":n[4]||(n[4]=function(e){return ce.value.dbName=e}),clearable:"",filterable:"",placeholder:"请选择数据库",class:"w-full",onChange:Ae},{default:I(function(){return[(C(!0),x(M,null,P(ke.value,function(e){return C(),B(v,{key:e.database,label:e.database,value:e.database},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"表名",prop:"structName",class:"w-full"},{default:I(function(){return[V(m,{modelValue:ce.value.tableName,"onUpdate:modelValue":n[5]||(n[5]=function(e){return ce.value.tableName=e}),disabled:!ce.value.dbName,class:"w-full",filterable:"",placeholder:"请选择表"},{default:I(function(){return[(C(!0),x(M,null,P(de.value,function(e){return C(),B(v,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{class:"w-full"},{default:I(function(){return[O("div",en,[V(s,{type:"primary",onClick:Ie},{default:I(function(){return n[40]||(n[40]=[A(" 使用此表 ")])}),_:1,__:[40]})])]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["model"])])),O("div",tn,[n[46]||(n[46]=O("div",{class:"text-lg mb-2 text-gray-600"},"自动化结构",-1)),V(y,{disabled:Z.value,ref_key:"autoCodeForm",ref:xe,rules:ve.value,model:pe.value,"label-width":"120px",inline:!0},{default:I(function(){return[V(b,{class:"w-full"},{default:I(function(){return[V(g,{span:6},{default:I(function(){return[V(h,{label:"结构名称",prop:"structName",class:"w-full"},{default:I(function(){return[O("div",nn,[V(o,{modelValue:pe.value.structName,"onUpdate:modelValue":n[6]||(n[6]=function(e){return pe.value.structName=e}),placeholder:"首字母自动转换大写"},null,8,["modelValue"]),V(s,{disabled:pe.value.onlyTemplate,type:"primary",onClick:n[7]||(n[7]=function(e){return Q(!0)})},{default:I(function(){return[V(d,{size:"18"},{default:I(function(){return[V(u)]}),_:1}),n[42]||(n[42]=A(" 生成 "))]}),_:1,__:[42]},8,["disabled"])])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"abbreviation",prop:"abbreviation",class:"w-full"},{label:I(function(){return[V(f,{content:"简称会作为入参对象名和路由group",placement:"bottom",effect:"light"},{default:I(function(){return[O("div",null,[n[43]||(n[43]=A(" 结构简称 ")),V(d,null,{default:I(function(){return[V(p)]}),_:1})])]}),_:1})]}),default:I(function(){return[V(o,{modelValue:pe.value.abbreviation,"onUpdate:modelValue":n[8]||(n[8]=function(e){return pe.value.abbreviation=e}),placeholder:"请输入Struct简称"},null,8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"中文名称",prop:"description",class:"w-full"},{default:I(function(){return[V(o,{modelValue:pe.value.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return pe.value.description=e}),placeholder:"中文描述作为自动api描述"},null,8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"表名",prop:"tableName",class:"w-full"},{default:I(function(){return[V(o,{modelValue:pe.value.tableName,"onUpdate:modelValue":n[10]||(n[10]=function(e){return pe.value.tableName=e}),placeholder:"指定表名（非必填）"},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(b,{class:"w-full"},{default:I(function(){return[V(g,{span:6},{default:I(function(){return[V(h,{prop:"packageName",class:"w-full"},{label:I(function(){return[V(f,{content:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)",placement:"bottom",effect:"light"},{default:I(function(){return[O("div",null,[n[44]||(n[44]=A(" 文件名称 ")),V(d,null,{default:I(function(){return[V(p)]}),_:1})])]}),_:1})]}),default:I(function(){return[V(o,{modelValue:pe.value.packageName,"onUpdate:modelValue":n[11]||(n[11]=function(e){return pe.value.packageName=e}),placeholder:"请输入文件名称",onBlur:n[12]||(n[12]=function(e){return function(e,t){e[t]=c(e[t])}(pe.value,"packageName")})},null,8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"选择模板",prop:"package",class:"w-full relative"},{default:I(function(){return[V(m,{modelValue:pe.value.package,"onUpdate:modelValue":n[13]||(n[13]=function(e){return pe.value.package=e}),class:"w-full pr-12",filterable:""},{default:I(function(){return[(C(!0),x(M,null,P(Ue.value,function(e){return C(),B(v,{key:e.ID,value:e.packageName,label:e.packageName},null,8,["value","label"])}),128))]}),_:1},8,["modelValue"]),O("span",an,[V(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:je},{default:I(function(){return[V(w)]}),_:1}),V(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:Re},{default:I(function(){return[V(_)]}),_:1})])]}),_:1})]}),_:1}),V(g,{span:6},{default:I(function(){return[V(h,{label:"业务库",prop:"businessDB",class:"w-full"},{label:I(function(){return[V(f,{content:"注：需要提前到db-list自行配置多数据库，此项为空则会使用gva本库创建自动化代码(global.GVA_DB),填写后则会创建指定库的代码(global.MustGetGlobalDBByDBName(dbname))",placement:"bottom",effect:"light"},{default:I(function(){return[O("div",null,[n[45]||(n[45]=A(" 业务库 ")),V(d,null,{default:I(function(){return[V(p)]}),_:1})])]}),_:1})]}),default:I(function(){return[V(m,{modelValue:pe.value.businessDB,"onUpdate:modelValue":n[14]||(n[14]=function(e){return pe.value.businessDB=e}),clearable:"",placeholder:"选择业务库",class:"w-full"},{default:I(function(){return[(C(!0),x(M,null,P(Ve.value,function(e){return C(),B(v,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:I(function(){return[O("div",null,[O("span",null,U(e.aliasName),1),O("span",ln,U(e.dbName),1)])]}),_:2},1032,["value","label","disabled"])}),128))]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["disabled","rules","model"])]),O("div",rn,[V(E,{class:"no-border-collapse"},{default:I(function(){return[V(S,null,{title:I(function(){return n[47]||(n[47]=[O("div",{class:"text-lg text-gray-600 font-normal"}," 专家模式 ",-1)])}),icon:I(function(e){var t=e.isActive;return[O("span",on,U(t?"收起":"展开"),1)]}),default:I(function(){return[O("div",un,[O("div",cn,[n[48]||(n[48]=O("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"基础设置",-1)),V(b,{gutter:20},{default:I(function(){return[V(g,{span:3},{default:I(function(){return[V(f,{content:"注：会自动在结构体global.Model其中包含主键和软删除相关操作配置",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"使用GVA结构"},{default:I(function(){return[V(T,{modelValue:pe.value.gvaModel,"onUpdate:modelValue":n[15]||(n[15]=function(e){return pe.value.gvaModel=e}),onChange:ye},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(f,{content:"注：会自动产生页面内的按钮权限配置，若不在角色管理中进行按钮分配则按钮不可见",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"创建按钮权限"},{default:I(function(){return[V(T,{disabled:!pe.value.generateWeb,modelValue:pe.value.autoCreateBtnAuth,"onUpdate:modelValue":n[16]||(n[16]=function(e){return pe.value.autoCreateBtnAuth=e})},null,8,["disabled","modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(h,{label:"生成前端"},{default:I(function(){return[V(T,{modelValue:pe.value.generateWeb,"onUpdate:modelValue":n[17]||(n[17]=function(e){return pe.value.generateWeb=e})},null,8,["modelValue"])]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(h,{label:"生成后端"},{default:I(function(){return[V(T,{disabled:"",modelValue:pe.value.generateServer,"onUpdate:modelValue":n[18]||(n[18]=function(e){return pe.value.generateServer=e})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})]),O("div",dn,[n[49]||(n[49]=O("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"自动化设置",-1)),V(b,{gutter:20},{default:I(function(){return[V(g,{span:3},{default:I(function(){return[V(f,{content:"注：把自动生成的API注册进数据库",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"自动创建API"},{default:I(function(){return[V(T,{disabled:!pe.value.generateServer,modelValue:pe.value.autoCreateApiToSql,"onUpdate:modelValue":n[19]||(n[19]=function(e){return pe.value.autoCreateApiToSql=e})},null,8,["disabled","modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(f,{content:"注：把自动生成的菜单注册进数据库",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"自动创建菜单"},{default:I(function(){return[V(T,{disabled:!pe.value.generateWeb,modelValue:pe.value.autoCreateMenuToSql,"onUpdate:modelValue":n[20]||(n[20]=function(e){return pe.value.autoCreateMenuToSql=e})},null,8,["disabled","modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(f,{content:"注：自动同步数据库表结构，如果不需要可以选择关闭",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"同步表结构"},{default:I(function(){return[V(T,{disabled:!pe.value.generateServer,modelValue:pe.value.autoMigrate,"onUpdate:modelValue":n[21]||(n[21]=function(e){return pe.value.autoMigrate=e})},null,8,["disabled","modelValue"])]}),_:1})]}),_:1})]}),_:1})]}),_:1})]),O("div",sn,[n[50]||(n[50]=O("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"高级设置",-1)),V(b,{gutter:20},{default:I(function(){return[V(g,{span:3},{default:I(function(){return[V(f,{content:"注：会自动在结构体添加 created_by updated_by deleted_by，方便用户进行资源权限控制",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"创建资源标识"},{default:I(function(){return[V(T,{modelValue:pe.value.autoCreateResource,"onUpdate:modelValue":n[22]||(n[22]=function(e){return pe.value.autoCreateResource=e})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1}),V(g,{span:3},{default:I(function(){return[V(f,{content:"注：使用基础模板将不会生成任何结构体和CURD,仅仅配置enter等属性方便自行开发非CURD逻辑",placement:"top",effect:"light"},{default:I(function(){return[V(h,{label:"基础模板"},{default:I(function(){return[V(T,{modelValue:pe.value.onlyTemplate,"onUpdate:modelValue":n[23]||(n[23]=function(e){return pe.value.onlyTemplate=e})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})]}),_:1})]),O("div",fn,[n[51]||(n[51]=O("h3",{class:"text-lg font-medium mb-4 text-gray-700"},"树形结构设置",-1)),V(b,{gutter:20,align:"middle"},{default:I(function(){return[V(g,{span:24},{default:I(function(){return[V(h,{label:"树型结构"},{default:I(function(){return[O("div",pn,[V(f,{content:"注：会自动创建parentID来进行父子关系关联,仅支持主键为int类型",placement:"top",effect:"light"},{default:I(function(){return[V(T,{modelValue:pe.value.isTree,"onUpdate:modelValue":n[24]||(n[24]=function(e){return pe.value.isTree=e})},null,8,["modelValue"])]}),_:1}),V(o,{modelValue:pe.value.treeJson,"onUpdate:modelValue":n[25]||(n[25]=function(e){return pe.value.treeJson=e}),disabled:!pe.value.isTree,placeholder:"前端展示json属性",class:"flex-1"},null,8,["modelValue","disabled"])])]}),_:1})]}),_:1})]}),_:1})])])]}),_:1})]}),_:1})]),O("div",vn,[O("div",mn,[V(s,{type:"primary",onClick:n[26]||(n[26]=function(e){return Se()}),disabled:pe.value.onlyTemplate},{default:I(function(){return n[52]||(n[52]=[A(" 新增字段 ")])}),_:1,__:[52]},8,["disabled"])]),O("div",hn,[V(X,{data:pe.value.fields,"row-key":"fieldName"},{default:I(function(){return[Z.value?k("",!0):(C(),B(R,{key:0,fixed:"left",align:"left",type:"index",width:"60"},{default:I(function(){return[V(d,{class:"cursor-grab drag-column"},{default:I(function(){return[V(D)]}),_:1})]}),_:1})),V(R,{fixed:"left",align:"left",type:"index",label:"序列",width:"60"}),V(R,{fixed:"left",align:"left",type:"index",label:"主键",width:"60"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.primaryKey,"onUpdate:modelValue":function(e){return t.primaryKey=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{fixed:"left",align:"left",prop:"fieldName",label:"字段名称",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:"",modelValue:t.fieldName,"onUpdate:modelValue":function(e){return t.fieldName=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"fieldDesc",label:"中文名",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.fieldDesc,"onUpdate:modelValue":function(e){return t.fieldDesc=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"defaultValue",label:"默认值",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.defaultValue,"onUpdate:modelValue":function(e){return t.defaultValue=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"require",label:"必填"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.require,"onUpdate:modelValue":function(e){return t.require=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"sort",label:"排序"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.sort,"onUpdate:modelValue":function(e){return t.sort=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"form",width:"100",label:"新建/编辑"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.form,"onUpdate:modelValue":function(e){return t.form=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"table",label:"表格"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.table,"onUpdate:modelValue":function(e){return t.table=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"desc",label:"详情"},{default:I(function(e){var t=e.row;return[V(T,{disabled:t.disabled,modelValue:t.desc,"onUpdate:modelValue":function(e){return t.desc=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),Z.value?k("",!0):(C(),B(R,{key:1,align:"left",prop:"excel",width:"100",label:"导入/导出"},{default:I(function(e){var t=e.row;return[V(T,{modelValue:t.excel,"onUpdate:modelValue":function(e){return t.excel=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:1})),V(R,{align:"left",prop:"fieldJson",width:"160px",label:"字段Json"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.fieldJson,"onUpdate:modelValue":function(e){return t.fieldJson=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"fieldType",label:"字段类型",width:"160"},{default:I(function(e){var t=e.row;return[V(m,{modelValue:t.fieldType,"onUpdate:modelValue":function(e){return t.fieldType=e},style:{width:"100%"},placeholder:"请选择字段类型",disabled:t.disabled,clearable:""},{default:I(function(){return[(C(!0),x(M,null,P(ne.value,function(e){return C(),B(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]}),_:1}),V(R,{align:"left",prop:"fieldIndexType",label:"索引类型",width:"160"},{default:I(function(e){var t=e.row;return[V(m,{modelValue:t.fieldIndexType,"onUpdate:modelValue":function(e){return t.fieldIndexType=e},style:{width:"100%"},placeholder:"请选择字段索引类型",disabled:t.disabled,clearable:""},{default:I(function(){return[(C(!0),x(M,null,P(le.value,function(e){return C(),B(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]}),_:1}),V(R,{align:"left",prop:"dataTypeLong",label:"字段长度/枚举值",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.dataTypeLong,"onUpdate:modelValue":function(e){return t.dataTypeLong=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"columnName",label:"数据库字段",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.columnName,"onUpdate:modelValue":function(e){return t.columnName=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"comment",label:"数据库字段描述",width:"160"},{default:I(function(e){var t=e.row;return[V(o,{disabled:t.disabled,modelValue:t.comment,"onUpdate:modelValue":function(e){return t.comment=e}},null,8,["disabled","modelValue","onUpdate:modelValue"])]}),_:1}),V(R,{align:"left",prop:"fieldSearchType",label:"搜索条件",width:"130"},{default:I(function(e){var t=e.row;return[V(m,{modelValue:t.fieldSearchType,"onUpdate:modelValue":function(e){return t.fieldSearchType=e},style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:"",disabled:"json"===t.fieldType||t.disabled},{default:I(function(){return[(C(!0),x(M,null,P(ae.value,function(e){return C(),B(v,{key:e.value,label:e.label,value:e.value,disabled:Ye(t.fieldType,e.value)},null,8,["label","value","disabled"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]}),_:1}),V(R,{align:"left",label:"操作",width:"300",fixed:"right"},{default:I(function(e){return[e.row.disabled?k("",!0):(C(),B(s,{key:0,type:"primary",link:"",icon:"edit",onClick:function(t){return Se(e.row)}},{default:I(function(){return n[53]||(n[53]=[A(" 高级编辑 ")])}),_:2,__:[53]},1032,["onClick"])),e.row.disabled?k("",!0):(C(),B(s,{key:1,type:"primary",link:"",icon:"delete",onClick:function(t){return function(e){F.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(i(l().m(function t(){return l().w(function(t){for(;;)switch(t.n){case 0:pe.value.fields.splice(e,1);case 1:return t.a(2)}},t)})))}(e.$index)}},{default:I(function(){return n[54]||(n[54]=[A(" 删除 ")])}),_:2,__:[54]},1032,["onClick"]))]}),_:1})]}),_:1},8,["data"])]),O("div",gn,[V(s,{type:"primary",disabled:Z.value,onClick:n[27]||(n[27]=function(e){return t=JSON.stringify(pe.value,null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),(l=document.createElement("a")).href=a,l.download="form_data.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),void URL.revokeObjectURL(a);var t,n,a,l})},{default:I(function(){return n[55]||(n[55]=[A(" 导出json ")])}),_:1,__:[55]},8,["disabled"]),V(Y,{class:"flex items-center","before-upload":Xe,"show-file-list":!1,headers:{"x-token":j(t)},accept:".json"},{default:I(function(){return[V(s,{type:"primary",class:"mx-2",disabled:Z.value},{default:I(function(){return n[56]||(n[56]=[A("导入json")])}),_:1,__:[56]},8,["disabled"])]}),_:1},8,["headers"]),V(s,{type:"primary",disabled:Z.value,onClick:n[28]||(n[28]=function(e){return Fe()})},{default:I(function(){return n[57]||(n[57]=[A(" 清除暂存 ")])}),_:1,__:[57]},8,["disabled"]),V(s,{type:"primary",disabled:Z.value,onClick:n[29]||(n[29]=function(e){return window.sessionStorage.setItem("autoCode",JSON.stringify(pe.value)),void L.success("暂存成功")})},{default:I(function(){return n[58]||(n[58]=[A(" 暂存 ")])}),_:1,__:[58]},8,["disabled"]),V(s,{type:"primary",disabled:Z.value,onClick:n[30]||(n[30]=function(e){return Ce(!1)})},{default:I(function(){return n[59]||(n[59]=[A(" 生成代码 ")])}),_:1,__:[59]},8,["disabled"]),V(s,{type:"primary",onClick:n[31]||(n[31]=function(e){return Ce(!0)})},{default:I(function(){return[A(U(Z.value?"查看代码":"预览代码"),1)]}),_:1})])]),V(z,{modelValue:ge.value,"onUpdate:modelValue":n[32]||(n[32]=function(e){return ge.value=e}),size:"70%","show-close":!1},{header:I(function(){return[O("div",bn,[n[62]||(n[62]=O("span",{class:"text-lg"},"组件内容",-1)),O("div",null,[V(s,{onClick:Ne},{default:I(function(){return n[60]||(n[60]=[A(" 取 消 ")])}),_:1,__:[60]}),V(s,{type:"primary",onClick:De},{default:I(function(){return n[61]||(n[61]=[A(" 确 定 ")])}),_:1,__:[61]})])])]}),default:I(function(){return[ge.value?(C(),B(a,{key:0,ref_key:"fieldDialogNode",ref:Ee,"dialog-middle":me.value,"type-options":ne.value,"type-search-options":ae.value,"type-index-options":le.value},null,8,["dialog-middle","type-options","type-search-options","type-index-options"])):k("",!0)]}),_:1},8,["modelValue"]),V(z,{modelValue:be.value,"onUpdate:modelValue":n[33]||(n[33]=function(e){return be.value=e}),size:"80%","show-close":!1},{header:I(function(){return[O("div",yn,[n[65]||(n[65]=O("span",{class:"text-lg"},"操作栏",-1)),O("div",null,[V(s,{type:"primary",onClick:_e},{default:I(function(){return n[63]||(n[63]=[A(" 全选 ")])}),_:1,__:[63]}),V(s,{type:"primary",onClick:Te},{default:I(function(){return n[64]||(n[64]=[A(" 复制 ")])}),_:1,__:[64]})])])]}),default:I(function(){return[be.value?(C(),B(r,{key:0,"is-add":Z.value,ref_key:"previewNode",ref:we,"preview-code":ue.value},null,8,["is-add","preview-code"])):k("",!0)]}),_:1},8,["modelValue"])])}}}))}}})}();
